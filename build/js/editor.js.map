{"version":3,"file":"editor.js","sources":["../../assets/js/block-editor/helpers.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../assets/js/block-editor/field-controls.jsx","../../assets/js/block-editor/field-control-factory.jsx","../../assets/js/block-editor/register-blocks.js","../../assets/js/block-editor/index.jsx"],"sourcesContent":["/**\n * SiteForge Helpers\n * Utilitaires centralis√©s pour simplifier le code des blocs\n */\n\nimport { __ } from '@wordpress/i18n';\n\n// ============================================================================\n// BLOCK DATA HELPERS\n// ============================================================================\n\n/**\n * R√©cup√®re les fields d'un bloc depuis window.siteforgeBlocks\n * @param {string} blockName - Nom du bloc (ex: 'siteforge/hero')\n * @returns {array|null} - Liste des fields ou null\n */\nexport const getBlockFields = (blockName) => {\n    if (typeof window.siteforgeBlocks === 'undefined') {\n        return null;\n    }\n\n    const blockData = window.siteforgeBlocks[blockName];\n    if (!blockData?.fields) {\n        return null;\n    }\n\n    const fields = blockData.fields;\n    if (!Array.isArray(fields) || fields.length === 0) {\n        return null;\n    }\n\n    return fields;\n};\n\n/**\n * R√©cup√®re les m√©tadonn√©es d'un bloc\n * @param {string} blockName - Nom du bloc\n * @returns {Object} - M√©tadonn√©es du bloc\n */\nexport const getBlockData = (blockName) => {\n    if (typeof window.siteforgeBlocks === 'undefined') {\n        return null;\n    }\n    return window.siteforgeBlocks[blockName] || null;\n};\n\n// ============================================================================\n// ARRAY HELPERS (immutable operations)\n// ============================================================================\n\nexport const arrayHelpers = {\n    /**\n     * Ajoute un √©l√©ment √† la fin du tableau\n     */\n    add: (arr, item) => [...(arr || []), item],\n\n    /**\n     * Supprime un √©l√©ment par index\n     */\n    remove: (arr, index) => (arr || []).filter((_, i) => i !== index),\n\n    /**\n     * D√©place un √©l√©ment d'une position √† une autre\n     */\n    move: (arr, fromIndex, toIndex) => {\n        const result = [...(arr || [])];\n        const [item] = result.splice(fromIndex, 1);\n        result.splice(toIndex, 0, item);\n        return result;\n    },\n\n    /**\n     * Met √† jour un √©l√©ment par index\n     */\n    update: (arr, index, value) => {\n        const result = [...(arr || [])];\n        result[index] = value;\n        return result;\n    },\n\n    /**\n     * Met √† jour une propri√©t√© d'un √©l√©ment par index\n     */\n    updateProp: (arr, index, prop, value) => {\n        const result = [...(arr || [])];\n        result[index] = { ...result[index], [prop]: value };\n        return result;\n    },\n};\n\n// ============================================================================\n// IMAGE HELPERS\n// ============================================================================\n\nexport const imageHelpers = {\n    /**\n     * V√©rifie si une valeur d'image est vide\n     * G√®re le cas o√π WordPress convertit {} en [] (array vide)\n     * @param {*} value - Valeur √† v√©rifier\n     * @returns {boolean} - True si vide\n     */\n    isEmpty: (value) => {\n        if (!value) return true;\n        if (Array.isArray(value) && value.length === 0) return true;\n        if (typeof value === 'object' && Object.keys(value).length === 0) return true;\n        return false;\n    },\n\n    /**\n     * Extrait l'URL d'une valeur d'image (string, object, ou number)\n     * @param {string|number|Object} value - Valeur de l'image\n     * @returns {string} - URL de l'image\n     */\n    getUrl: (value) => {\n        if (imageHelpers.isEmpty(value)) return '';\n        if (typeof value === 'string') return value;\n        if (typeof value === 'object' && value?.url) return value.url;\n        return '';\n    },\n\n    /**\n     * Extrait l'ID d'une valeur d'image\n     * @param {string|number|Object} value - Valeur de l'image\n     * @returns {number|null} - ID de l'image\n     */\n    getId: (value) => {\n        if (imageHelpers.isEmpty(value)) return null;\n        if (typeof value === 'number') return value;\n        if (typeof value === 'object' && value?.id) return value.id;\n        return null;\n    },\n\n    /**\n     * Formate la valeur d'image selon le return_value attendu\n     * @param {Object} media - Objet m√©dia de WordPress\n     * @param {string} returnValue - 'id', 'url', ou 'object'\n     * @returns {string|number|Object} - Valeur format√©e\n     */\n    formatValue: (media, returnValue = 'url') => {\n        if (!media) return '';\n\n        switch (returnValue) {\n            case 'id':\n                return media.id;\n            case 'url':\n                return media.url;\n            case 'object':\n                return {\n                    id: media.id,\n                    url: media.url,\n                    alt: media.alt || '',\n                    title: media.title || '',\n                    width: media.width,\n                    height: media.height,\n                };\n            default:\n                return media.url;\n        }\n    },\n};\n\n// ============================================================================\n// OBJECT HELPERS\n// ============================================================================\n\nexport const objectHelpers = {\n    /**\n     * Met √† jour une propri√©t√© d'un objet de mani√®re immutable\n     */\n    setProp: (obj, prop, value) => ({ ...(obj || {}), [prop]: value }),\n\n    /**\n     * R√©cup√®re une propri√©t√© avec valeur par d√©faut\n     */\n    getProp: (obj, prop, defaultValue = '') => obj?.[prop] ?? defaultValue,\n\n    /**\n     * Fusionne plusieurs objets\n     */\n    merge: (...objects) => Object.assign({}, ...objects),\n};\n\n// ============================================================================\n// FIELD HELPERS\n// ============================================================================\n\n/**\n * Cr√©e un objet field normalis√© depuis une d√©finition\n * @param {string} name - Nom du champ\n * @param {Object} fieldDef - D√©finition du champ\n * @returns {Object} - Field normalis√©\n */\nexport const normalizeField = (name, fieldDef) => ({\n    name,\n    type: fieldDef.type || 'text',\n    label: fieldDef.label || name.replace(/_/g, ' ').replace(/\\b\\w/g, (c) => c.toUpperCase()),\n    config: fieldDef,\n});\n\n/**\n * Cr√©e les valeurs par d√©faut pour un repeater item\n * @param {Object} subFields - D√©finition des sous-champs\n * @returns {Object} - Objet avec valeurs par d√©faut\n */\nexport const createRepeaterItemDefaults = (subFields) => {\n    const defaults = {};\n    if (subFields) {\n        Object.entries(subFields).forEach(([name, field]) => {\n            if (field.default !== undefined) {\n                defaults[name] = field.default;\n            }\n        });\n    }\n    return defaults;\n};\n\n/**\n * Cr√©e les valeurs par d√©faut pour un group\n * @param {Object} subFields - D√©finition des sous-champs\n * @returns {Object} - Objet avec valeurs par d√©faut\n */\nexport const createGroupDefaults = createRepeaterItemDefaults;\n\n// ============================================================================\n// STYLE HELPERS\n// ============================================================================\n\nexport const styleHelpers = {\n    /**\n     * Combine des classes CSS conditionnellement\n     * @param  {...string|Object|Array} args - Classes ou conditions\n     * @returns {string} - Classes combin√©es\n     */\n    classNames: (...args) => {\n        return args\n            .flat()\n            .filter((cls) => {\n                if (typeof cls === 'string') return cls;\n                if (typeof cls === 'object' && cls !== null) {\n                    return Object.entries(cls)\n                        .filter(([, v]) => v)\n                        .map(([k]) => k)\n                        .join(' ');\n                }\n                return '';\n            })\n            .join(' ')\n            .trim();\n    },\n\n    /**\n     * G√©n√®re un style inline depuis un objet\n     * @param {Object} styles - Objet de styles\n     * @returns {Object} - Style React\n     */\n    inlineStyle: (styles) => {\n        const result = {};\n        Object.entries(styles || {}).forEach(([key, value]) => {\n            if (value !== undefined && value !== null && value !== '') {\n                result[key] = value;\n            }\n        });\n        return result;\n    },\n};\n\n// ============================================================================\n// VALIDATION HELPERS\n// ============================================================================\n\nexport const validationHelpers = {\n    /**\n     * V√©rifie si une valeur est vide\n     */\n    isEmpty: (value) => {\n        if (value === null || value === undefined) return true;\n        if (typeof value === 'string') return value.trim() === '';\n        if (Array.isArray(value)) return value.length === 0;\n        if (typeof value === 'object') return Object.keys(value).length === 0;\n        return false;\n    },\n\n    /**\n     * V√©rifie si une URL est valide\n     */\n    isValidUrl: (url) => {\n        try {\n            new URL(url);\n            return true;\n        } catch {\n            return false;\n        }\n    },\n\n    /**\n     * V√©rifie si un email est valide\n     */\n    isValidEmail: (email) => {\n        return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n    },\n};\n\n// ============================================================================\n// ATTRIBUTE HELPERS\n// ============================================================================\n\n/**\n * Cr√©e un setter d'attribut unique\n * @param {Function} setAttributes - Fonction setAttributes de Gutenberg\n * @param {string} name - Nom de l'attribut\n * @returns {Function} - Setter pour cet attribut\n */\nexport const createAttributeSetter = (setAttributes, name) => (value) => {\n    setAttributes({ [name]: value });\n};\n\n/**\n * Cr√©e des setters pour tous les attributs d'un bloc\n * @param {Function} setAttributes - Fonction setAttributes de Gutenberg\n * @param {Array} fieldNames - Liste des noms de champs\n * @returns {Object} - Objet avec les setters\n */\nexport const createAttributeSetters = (setAttributes, fieldNames) => {\n    const setters = {};\n    fieldNames.forEach((name) => {\n        setters[name] = createAttributeSetter(setAttributes, name);\n    });\n    return setters;\n};\n\n// ============================================================================\n// EXPORTS GROUP√âS\n// ============================================================================\n\nexport default {\n    getBlockFields,\n    getBlockData,\n    arrayHelpers,\n    imageHelpers,\n    objectHelpers,\n    styleHelpers,\n    validationHelpers,\n    normalizeField,\n    createRepeaterItemDefaults,\n    createGroupDefaults,\n    createAttributeSetter,\n    createAttributeSetters,\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * SiteForge Field Controls\n * Composants React pour chaque type de champ\n */\n\nimport { __ } from '@wordpress/i18n';\nimport { useState, useEffect } from '@wordpress/element';\nimport {\n    TextControl,\n    TextareaControl,\n    SelectControl,\n    CheckboxControl,\n    Button,\n    ColorPicker,\n    RangeControl,\n    ButtonGroup,\n    ComboboxControl,\n    Spinner,\n    BaseControl,\n} from '@wordpress/components';\nimport { MediaUpload, MediaUploadCheck, RichText } from '@wordpress/block-editor';\nimport apiFetch from '@wordpress/api-fetch';\n\nimport {\n    arrayHelpers,\n    imageHelpers,\n    normalizeField,\n    createRepeaterItemDefaults,\n} from './helpers';\n\n// ============================================================================\n// COMPOSANTS UTILITAIRES R√âUTILISABLES\n// ============================================================================\n\n/**\n * Wrapper standardis√© pour tous les field controls\n */\nconst FieldWrapper = ({ type, children, className = '' }) => (\n    <div className={`siteforge-field-control siteforge-${type}-control ${className}`.trim()}>\n        {children}\n    </div>\n);\n\n/**\n * Label + Help text r√©utilisable\n */\nconst FieldLabel = ({ label, help }) => (\n    <>\n        {label && <label className=\"siteforge-field-label\">{label}</label>}\n        {help && <p className=\"siteforge-field-help\">{help}</p>}\n    </>\n);\n\n// ============================================================================\n// MAPPING CENTRALIS√â DES FIELD CONTROLS\n// Ce mapping est utilis√© partout (export, RepeaterField, GroupField)\n// ============================================================================\n\n// Sera initialis√© apr√®s la d√©finition des composants\nlet FieldControlsMap = {};\n\n/**\n * R√©cup√®re le composant pour un type de champ\n */\nexport const getFieldComponent = (type) => FieldControlsMap[type] || null;\n\n/**\n * Rend un sous-champ (utilis√© par Repeater et Group)\n */\nconst renderSubField = (subName, subField, value, onChange) => {\n    const SubFieldComponent = FieldControlsMap[subField.type];\n\n    if (!SubFieldComponent) {\n        console.warn(`[SiteForge] Unknown sub-field type: ${subField.type}`);\n        return null;\n    }\n\n    return (\n        <SubFieldComponent\n            key={subName}\n            field={normalizeField(subName, subField)}\n            value={value}\n            onChange={onChange}\n        />\n    );\n};\n\n/**\n * Rend une liste de sous-champs\n */\nconst renderSubFields = (subFields, values, onFieldChange) => {\n    if (!subFields) return null;\n\n    return Object.entries(subFields).map(([subName, subField]) =>\n        renderSubField(subName, subField, values?.[subName], (newValue) =>\n            onFieldChange(subName, newValue)\n        )\n    );\n};\n\n// ============================================================================\n// COMPOSANTS DE CHAMPS SIMPLES\n// ============================================================================\n\n/**\n * Text Field Control\n */\nexport const TextField = ({ field, value, onChange }) => (\n    <FieldWrapper type=\"text\">\n        <TextControl\n            label={field.label}\n            value={value || ''}\n            onChange={onChange}\n            placeholder={field.config?.placeholder || ''}\n            help={field.config?.help || ''}\n            required={field.config?.required || false}\n        />\n    </FieldWrapper>\n);\n\n/**\n * Textarea Field Control\n */\nexport const TextareaField = ({ field, value, onChange }) => (\n    <FieldWrapper type=\"textarea\">\n        <TextareaControl\n            label={field.label}\n            value={value || ''}\n            onChange={onChange}\n            placeholder={field.config?.placeholder || ''}\n            rows={field.config?.rows || 4}\n            help={field.config?.help || ''}\n        />\n    </FieldWrapper>\n);\n\n/**\n * WYSIWYG Field Control\n */\nexport const WysiwygField = ({ field, value, onChange }) => (\n    <FieldWrapper type=\"wysiwyg\">\n        <FieldLabel label={field.label} help={field.config?.help} />\n        <RichText\n            tagName=\"div\"\n            value={value || ''}\n            onChange={onChange}\n            placeholder={field.config?.placeholder || __('Enter content...', 'siteforge')}\n        />\n    </FieldWrapper>\n);\n\n/**\n * Number Field Control\n */\nexport const NumberField = ({ field, value, onChange }) => {\n    const config = field.config || {};\n\n    return (\n        <FieldWrapper type=\"number\">\n            <TextControl\n                label={field.label}\n                type=\"number\"\n                value={value !== undefined ? value : ''}\n                onChange={(val) => onChange(val ? Number(val) : '')}\n                min={config.min}\n                max={config.max}\n                step={config.step || 1}\n                help={config.help || ''}\n            />\n        </FieldWrapper>\n    );\n};\n\n/**\n * Range Field Control (slider)\n */\nexport const RangeField = ({ field, value, onChange }) => {\n    const config = field.config || {};\n\n    return (\n        <FieldWrapper type=\"range\">\n            <RangeControl\n                label={field.label}\n                value={value ?? config.default ?? 50}\n                onChange={onChange}\n                min={config.min ?? 0}\n                max={config.max ?? 100}\n                step={config.step || 1}\n                help={config.help || ''}\n            />\n        </FieldWrapper>\n    );\n};\n\n/**\n * URL Field Control\n */\nexport const UrlField = ({ field, value, onChange }) => (\n    <FieldWrapper type=\"url\">\n        <TextControl\n            label={field.label}\n            type=\"url\"\n            value={value || ''}\n            onChange={onChange}\n            placeholder={field.config?.placeholder || 'https://'}\n            help={field.config?.help || ''}\n        />\n    </FieldWrapper>\n);\n\n/**\n * Email Field Control\n */\nexport const EmailField = ({ field, value, onChange }) => (\n    <FieldWrapper type=\"email\">\n        <TextControl\n            label={field.label}\n            type=\"email\"\n            value={value || ''}\n            onChange={onChange}\n            placeholder={field.config?.placeholder || 'email@example.com'}\n            help={field.config?.help || ''}\n        />\n    </FieldWrapper>\n);\n\n/**\n * Select Field Control\n */\nexport const SelectField = ({ field, value, onChange }) => {\n    const choices = field.config?.choices || {};\n    const options = Object.entries(choices).map(([key, label]) => ({\n        value: key,\n        label: label,\n    }));\n\n    return (\n        <FieldWrapper type=\"select\">\n            <SelectControl\n                label={field.label}\n                value={value || field.config?.default || ''}\n                options={options}\n                onChange={onChange}\n                help={field.config?.help || ''}\n            />\n        </FieldWrapper>\n    );\n};\n\n/**\n * Checkbox Field Control\n */\nexport const CheckboxField = ({ field, value, onChange }) => (\n    <FieldWrapper type=\"checkbox\">\n        <CheckboxControl\n            label={field.label}\n            checked={value || false}\n            onChange={onChange}\n            help={field.config?.help || ''}\n        />\n    </FieldWrapper>\n);\n\n/**\n * Toggle Field Control (alias pour checkbox avec style toggle)\n */\nexport const ToggleField = CheckboxField;\n\n/**\n * Color Field Control\n */\nexport const ColorField = ({ field, value, onChange }) => (\n    <FieldWrapper type=\"color\">\n        <FieldLabel label={field.label} help={field.config?.help} />\n        <ColorPicker\n            color={value || field.config?.default || '#000000'}\n            onChangeComplete={(color) => onChange(color.hex)}\n        />\n    </FieldWrapper>\n);\n\n// ============================================================================\n// COMPOSANTS DE CHAMPS M√âDIA\n// ============================================================================\n\n/**\n * Image Field Control\n */\nexport const ImageField = ({ field, value, onChange }) => {\n    const returnValue = field.config?.return_value || 'url';\n    const imageUrl = imageHelpers.getUrl(value);\n\n    const onSelectImage = (media) => {\n        onChange(imageHelpers.formatValue(media, returnValue));\n    };\n\n    return (\n        <FieldWrapper type=\"image\">\n            <FieldLabel label={field.label} help={field.config?.help} />\n            <MediaUploadCheck>\n                <MediaUpload\n                    onSelect={onSelectImage}\n                    allowedTypes={['image']}\n                    value={imageHelpers.getId(value)}\n                    render={({ open }) => (\n                        <div className=\"siteforge-image-field\">\n                            {imageUrl && (\n                                <img\n                                    src={imageUrl}\n                                    alt={field.label}\n                                    className=\"siteforge-image-preview\"\n                                    style={{ maxWidth: '100%', height: 'auto', marginBottom: '8px' }}\n                                />\n                            )}\n                            <div className=\"siteforge-image-buttons\">\n                                <Button variant=\"secondary\" onClick={open}>\n                                    {imageUrl\n                                        ? __('Change Image', 'siteforge')\n                                        : __('Select Image', 'siteforge')}\n                                </Button>\n                                {imageUrl && (\n                                    <Button\n                                        variant=\"link\"\n                                        isDestructive\n                                        onClick={() => onChange('')}\n                                        style={{ marginLeft: '8px' }}\n                                    >\n                                        {__('Remove', 'siteforge')}\n                                    </Button>\n                                )}\n                            </div>\n                        </div>\n                    )}\n                />\n            </MediaUploadCheck>\n        </FieldWrapper>\n    );\n};\n\n/**\n * File Field Control (similaire √† Image mais pour tous types de fichiers)\n */\nexport const FileField = ({ field, value, onChange }) => {\n    const returnValue = field.config?.return_value || 'url';\n    const fileUrl = imageHelpers.getUrl(value);\n    const fileName = fileUrl ? fileUrl.split('/').pop() : '';\n\n    const onSelectFile = (media) => {\n        onChange(imageHelpers.formatValue(media, returnValue));\n    };\n\n    return (\n        <FieldWrapper type=\"file\">\n            <FieldLabel label={field.label} help={field.config?.help} />\n            <MediaUploadCheck>\n                <MediaUpload\n                    onSelect={onSelectFile}\n                    allowedTypes={field.config?.allowed_types}\n                    value={imageHelpers.getId(value)}\n                    render={({ open }) => (\n                        <div className=\"siteforge-file-field\">\n                            {fileUrl && (\n                                <div className=\"siteforge-file-info\" style={{ marginBottom: '8px' }}>\n                                    <span>{fileName}</span>\n                                </div>\n                            )}\n                            <div className=\"siteforge-file-buttons\">\n                                <Button variant=\"secondary\" onClick={open}>\n                                    {fileUrl\n                                        ? __('Change File', 'siteforge')\n                                        : __('Select File', 'siteforge')}\n                                </Button>\n                                {fileUrl && (\n                                    <Button\n                                        variant=\"link\"\n                                        isDestructive\n                                        onClick={() => onChange('')}\n                                        style={{ marginLeft: '8px' }}\n                                    >\n                                        {__('Remove', 'siteforge')}\n                                    </Button>\n                                )}\n                            </div>\n                        </div>\n                    )}\n                />\n            </MediaUploadCheck>\n        </FieldWrapper>\n    );\n};\n\n// ============================================================================\n// COMPOSANTS DE CHAMPS AVANC√âS\n// ============================================================================\n\n/**\n * Icon Field Control - S√©lecteur d'ic√¥ne Lucide avec grille et recherche\n */\nexport const IconField = ({ field, value, onChange }) => {\n    const [icons, setIcons] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [isOpen, setIsOpen] = useState(false);\n\n    // Charger les ic√¥nes depuis l'API REST\n    useEffect(() => {\n        const loadIcons = async () => {\n            try {\n                const response = await apiFetch({ path: '/siteforge/v1/icons' });\n                setIcons(response.icons || []);\n            } catch (error) {\n                console.error('[SiteForge] Error loading icons:', error);\n                setIcons([]);\n            }\n            setIsLoading(false);\n        };\n        loadIcons();\n    }, []);\n\n    // Filtrer les ic√¥nes selon la recherche\n    const filteredIcons = icons.filter((icon) =>\n        icon.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    // URL du sprite pour afficher les ic√¥nes\n    const spriteUrl = window.siteforgeConfig?.spriteUrl || '';\n\n    const config = field.config || {};\n\n    return (\n        <FieldWrapper type=\"icon\">\n            <FieldLabel label={field.label} help={config.help} />\n\n            {/* Bouton pour ouvrir le s√©lecteur */}\n            <div className=\"siteforge-icon-field\">\n                <div className=\"siteforge-icon-selected\" style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '8px' }}>\n                    {value && spriteUrl && (\n                        <svg\n                            width=\"24\"\n                            height=\"24\"\n                            viewBox=\"0 0 24 24\"\n                            style={{\n                                display: 'inline-block',\n                                fill: 'none',\n                                stroke: 'currentColor',\n                                strokeWidth: 2,\n                                strokeLinecap: 'round',\n                                strokeLinejoin: 'round',\n                            }}\n                            aria-hidden=\"true\"\n                        >\n                            <use href={`${spriteUrl}#${value}`} />\n                        </svg>\n                    )}\n                    <span style={{ color: value ? 'inherit' : '#757575' }}>\n                        {value || __('Aucune ic√¥ne s√©lectionn√©e', 'siteforge')}\n                    </span>\n                </div>\n\n                <div className=\"siteforge-icon-buttons\" style={{ display: 'flex', gap: '8px' }}>\n                    <Button variant=\"secondary\" onClick={() => setIsOpen(!isOpen)}>\n                        {isOpen ? __('Fermer', 'siteforge') : __('Choisir une ic√¥ne', 'siteforge')}\n                    </Button>\n                    {value && (\n                        <Button variant=\"link\" isDestructive onClick={() => onChange('')}>\n                            {__('Supprimer', 'siteforge')}\n                        </Button>\n                    )}\n                </div>\n\n                {/* Panneau de s√©lection */}\n                {isOpen && (\n                    <div\n                        className=\"siteforge-icon-picker\"\n                        style={{\n                            marginTop: '12px',\n                            padding: '12px',\n                            border: '1px solid #ddd',\n                            borderRadius: '4px',\n                            backgroundColor: '#fff',\n                        }}\n                    >\n                        {/* Barre de recherche */}\n                        <TextControl\n                            placeholder={__('Rechercher une ic√¥ne...', 'siteforge')}\n                            value={searchTerm}\n                            onChange={setSearchTerm}\n                            style={{ marginBottom: '12px' }}\n                        />\n\n                        {/* Grille d'ic√¥nes */}\n                        {isLoading ? (\n                            <div style={{ textAlign: 'center', padding: '20px' }}>\n                                <Spinner />\n                            </div>\n                        ) : (\n                            <>\n                                <div\n                                    className=\"siteforge-icon-grid\"\n                                    style={{\n                                        display: 'grid',\n                                        gridTemplateColumns: 'repeat(auto-fill, minmax(40px, 1fr))',\n                                        gap: '4px',\n                                        maxHeight: '250px',\n                                        overflowY: 'auto',\n                                        padding: '4px',\n                                    }}\n                                >\n                                    {filteredIcons.slice(0, 200).map((icon) => (\n                                        <button\n                                            key={icon}\n                                            type=\"button\"\n                                            title={icon}\n                                            onClick={() => {\n                                                onChange(icon);\n                                                setIsOpen(false);\n                                                setSearchTerm('');\n                                            }}\n                                            style={{\n                                                display: 'flex',\n                                                alignItems: 'center',\n                                                justifyContent: 'center',\n                                                width: '40px',\n                                                height: '40px',\n                                                padding: '8px',\n                                                border: value === icon ? '2px solid #007cba' : '1px solid #ddd',\n                                                borderRadius: '4px',\n                                                backgroundColor: value === icon ? '#f0f7fc' : '#fff',\n                                                cursor: 'pointer',\n                                                transition: 'all 0.15s ease',\n                                            }}\n                                            onMouseEnter={(e) => {\n                                                e.currentTarget.style.backgroundColor = '#f5f5f5';\n                                                e.currentTarget.style.borderColor = '#007cba';\n                                            }}\n                                            onMouseLeave={(e) => {\n                                                e.currentTarget.style.backgroundColor = value === icon ? '#f0f7fc' : '#fff';\n                                                e.currentTarget.style.borderColor = value === icon ? '#007cba' : '#ddd';\n                                            }}\n                                        >\n                                            {spriteUrl ? (\n                                                <svg\n                                                    width=\"20\"\n                                                    height=\"20\"\n                                                    viewBox=\"0 0 24 24\"\n                                                    style={{\n                                                        fill: 'none',\n                                                        stroke: 'currentColor',\n                                                        strokeWidth: 2,\n                                                        strokeLinecap: 'round',\n                                                        strokeLinejoin: 'round',\n                                                    }}\n                                                    aria-hidden=\"true\"\n                                                >\n                                                    <use href={`${spriteUrl}#${icon}`} />\n                                                </svg>\n                                            ) : (\n                                                <span style={{ fontSize: '10px' }}>{icon.slice(0, 3)}</span>\n                                            )}\n                                        </button>\n                                    ))}\n                                </div>\n\n                                {/* Compteur de r√©sultats */}\n                                <p style={{ marginTop: '8px', fontSize: '12px', color: '#757575' }}>\n                                    {filteredIcons.length > 200\n                                        ? `${__('Affichage des 200 premiers sur', 'siteforge')} ${filteredIcons.length} ${__('ic√¥nes', 'siteforge')}`\n                                        : `${filteredIcons.length} ${__('ic√¥ne(s) trouv√©e(s)', 'siteforge')}`}\n                                </p>\n                            </>\n                        )}\n                    </div>\n                )}\n            </div>\n        </FieldWrapper>\n    );\n};\n\n/**\n * Link Field Control - Champ de lien avanc√©\n * Modes: link (URL custom), page (recherche post), phone, email\n */\nexport const LinkField = ({ field, value, onChange }) => {\n    const config = field.config || {};\n    const availableModes = config.modes || ['link', 'page', 'phone', 'email'];\n    const defaultMode = config.default_mode || availableModes[0];\n\n    // Valeur par d√©faut\n    const linkValue = value || {\n        mode: defaultMode,\n        label: '',\n        url: '',\n        postId: null,\n        postTitle: '',\n        phone: '',\n        email: '',\n        target: '_self',\n    };\n\n    // State pour la recherche de posts\n    const [searchResults, setSearchResults] = useState([]);\n    const [isSearching, setIsSearching] = useState(false);\n    const [searchInput, setSearchInput] = useState(linkValue.postTitle || '');\n\n    // Mettre √† jour une propri√©t√© du lien\n    const updateLink = (key, val) => {\n        onChange({ ...linkValue, [key]: val });\n    };\n\n    // Recherche de posts\n    const searchPosts = async (search) => {\n        if (!search || search.length < 2) {\n            setSearchResults([]);\n            return;\n        }\n\n        setIsSearching(true);\n        try {\n            // Rechercher dans les posts et pages\n            const postTypes = config.post_types || ['post', 'page'];\n            const results = await apiFetch({\n                path: `/wp/v2/search?search=${encodeURIComponent(search)}&type=post&subtype=${postTypes.join(',')}&per_page=10`,\n            });\n\n            setSearchResults(\n                results.map((item) => ({\n                    value: item.id,\n                    label: `${item.title} (${item.subtype})`,\n                    title: item.title,\n                }))\n            );\n        } catch (error) {\n            console.error('[SiteForge] Search error:', error);\n            setSearchResults([]);\n        }\n        setIsSearching(false);\n    };\n\n    // Debounce pour la recherche\n    useEffect(() => {\n        const timer = setTimeout(() => {\n            if (linkValue.mode === 'page') {\n                searchPosts(searchInput);\n            }\n        }, 300);\n        return () => clearTimeout(timer);\n    }, [searchInput, linkValue.mode]);\n\n    // Labels des modes\n    const modeLabels = {\n        link: __('Lien', 'siteforge'),\n        page: __('Page', 'siteforge'),\n        phone: __('T√©l√©phone', 'siteforge'),\n        email: __('Email', 'siteforge'),\n    };\n\n    // Icons des modes\n    const modeIcons = {\n        link: 'üîó',\n        page: 'üìÑ',\n        phone: 'üìû',\n        email: '‚úâÔ∏è',\n    };\n\n    return (\n        <FieldWrapper type=\"link\">\n            <FieldLabel label={field.label} help={config.help} />\n\n            {/* S√©lecteur de mode */}\n            <div className=\"siteforge-link-modes\" style={{ marginBottom: '12px' }}>\n                <ButtonGroup>\n                    {availableModes.map((mode) => (\n                        <Button\n                            key={mode}\n                            variant={linkValue.mode === mode ? 'primary' : 'secondary'}\n                            onClick={() => updateLink('mode', mode)}\n                            size=\"small\"\n                        >\n                            {modeIcons[mode]} {modeLabels[mode]}\n                        </Button>\n                    ))}\n                </ButtonGroup>\n            </div>\n\n            {/* Champ Label (commun √† tous les modes) */}\n            <TextControl\n                label={__('Texte du lien', 'siteforge')}\n                value={linkValue.label || ''}\n                onChange={(val) => updateLink('label', val)}\n                placeholder={__('Texte √† afficher...', 'siteforge')}\n            />\n\n            {/* Champs sp√©cifiques selon le mode */}\n            {linkValue.mode === 'link' && (\n                <TextControl\n                    label={__('URL', 'siteforge')}\n                    type=\"url\"\n                    value={linkValue.url || ''}\n                    onChange={(val) => updateLink('url', val)}\n                    placeholder=\"https://...\"\n                />\n            )}\n\n            {linkValue.mode === 'page' && (\n                <BaseControl label={__('Rechercher une page', 'siteforge')}>\n                    <ComboboxControl\n                        value={linkValue.postId}\n                        onChange={(postId) => {\n                            const selected = searchResults.find((r) => r.value === postId);\n                            updateLink('postId', postId);\n                            if (selected) {\n                                updateLink('postTitle', selected.title);\n                                // Pr√©-remplir le label si vide\n                                if (!linkValue.label) {\n                                    updateLink('label', selected.title);\n                                }\n                            }\n                        }}\n                        options={searchResults}\n                        onFilterValueChange={(input) => setSearchInput(input)}\n                        placeholder={__('Tapez pour rechercher...', 'siteforge')}\n                    />\n                    {isSearching && <Spinner />}\n                    {linkValue.postId && linkValue.postTitle && (\n                        <p style={{ marginTop: '4px', color: '#757575', fontSize: '12px' }}>\n                            {__('S√©lectionn√©:', 'siteforge')} <strong>{linkValue.postTitle}</strong> (ID: {linkValue.postId})\n                        </p>\n                    )}\n                </BaseControl>\n            )}\n\n            {linkValue.mode === 'phone' && (\n                <TextControl\n                    label={__('Num√©ro de t√©l√©phone', 'siteforge')}\n                    type=\"tel\"\n                    value={linkValue.phone || ''}\n                    onChange={(val) => updateLink('phone', val)}\n                    placeholder=\"+33 1 23 45 67 89\"\n                />\n            )}\n\n            {linkValue.mode === 'email' && (\n                <TextControl\n                    label={__('Adresse email', 'siteforge')}\n                    type=\"email\"\n                    value={linkValue.email || ''}\n                    onChange={(val) => updateLink('email', val)}\n                    placeholder=\"contact@example.com\"\n                />\n            )}\n\n            {/* Target (pour tous les modes sauf phone/email) */}\n            {(linkValue.mode === 'link' || linkValue.mode === 'page') && (\n                <SelectControl\n                    label={__('Ouvrir dans', 'siteforge')}\n                    value={linkValue.target || '_self'}\n                    options={[\n                        { value: '_self', label: __('M√™me fen√™tre', 'siteforge') },\n                        { value: '_blank', label: __('Nouvel onglet', 'siteforge') },\n                    ]}\n                    onChange={(val) => updateLink('target', val)}\n                />\n            )}\n        </FieldWrapper>\n    );\n};\n\n/**\n * Button Field Control - Combine Link + Icon + Style\n * Structure: { link: {...}, icon: '', iconPosition: 'after', style: 'btn-primary' }\n */\nexport const ButtonField = ({ field, value, onChange }) => {\n    const config = field.config || {};\n\n    // State pour les styles de boutons\n    const [buttonStyles, setButtonStyles] = useState([]);\n    const [stylesData, setStylesData] = useState([]);\n    const [isLoadingStyles, setIsLoadingStyles] = useState(true);\n\n    // Valeur par d√©faut\n    const buttonValue = value || {\n        link: {\n            mode: config.default_mode || 'link',\n            label: '',\n            url: '',\n            postId: null,\n            postTitle: '',\n            phone: '',\n            email: '',\n            target: '_self',\n        },\n        icon: '',\n        iconPosition: 'after',\n        style: 'btn-primary',\n    };\n\n    // Charger les styles de boutons depuis l'API\n    useEffect(() => {\n        const loadStyles = async () => {\n            try {\n                const response = await apiFetch({ path: '/siteforge/v1/button-styles' });\n                const styles = Array.isArray(response) ? response : [];\n\n                setStylesData(styles);\n                setButtonStyles(\n                    styles.map((style) => ({\n                        value: style.name,\n                        label: style.label || style.name.replace('btn-', ''),\n                    }))\n                );\n            } catch (error) {\n                console.error('[SiteForge] Error loading button styles:', error);\n                setButtonStyles([{ value: 'btn-primary', label: 'Primaire' }]);\n                setStylesData([]);\n            }\n            setIsLoadingStyles(false);\n        };\n        loadStyles();\n    }, []);\n\n    // R√©cup√©rer les variables d'un style\n    const getStyleVariables = (styleName) => {\n        const style = stylesData.find((s) => s.name === styleName);\n        return style?.variables || {};\n    };\n\n    // V√©rifier si les ic√¥nes sont activ√©es pour ce style\n    const areIconsEnabled = () => {\n        const vars = getStyleVariables(buttonValue.style);\n        return vars.icon !== 'false';\n    };\n\n    // V√©rifier si le changement de position est activ√©\n    const isIconMoveEnabled = () => {\n        const vars = getStyleVariables(buttonValue.style);\n        return vars['icon-move'] !== 'false';\n    };\n\n    // R√©cup√©rer la position d'ic√¥ne par d√©faut\n    const getDefaultIconPosition = () => {\n        const vars = getStyleVariables(buttonValue.style);\n        return vars['icon-position'] || 'after';\n    };\n\n    // R√©cup√©rer l'ic√¥ne par d√©faut\n    const getDefaultIcon = () => {\n        const vars = getStyleVariables(buttonValue.style);\n        return vars['icon-default'] || '';\n    };\n\n    // Mettre √† jour une propri√©t√©\n    const updateButton = (key, val) => {\n        onChange({ ...buttonValue, [key]: val });\n    };\n\n    // Mettre √† jour le lien\n    const updateLink = (linkVal) => {\n        onChange({ ...buttonValue, link: linkVal });\n    };\n\n    // Quand le style change, appliquer les valeurs par d√©faut\n    const handleStyleChange = (newStyle) => {\n        const vars = stylesData.find((s) => s.name === newStyle)?.variables || {};\n        const updates = { ...buttonValue, style: newStyle };\n\n        // Appliquer la position par d√©faut si d√©finie\n        if (vars['icon-position']) {\n            updates.iconPosition = vars['icon-position'];\n        }\n\n        // Appliquer l'ic√¥ne par d√©faut si d√©finie et pas d'ic√¥ne actuelle\n        if (vars['icon-default'] && !buttonValue.icon) {\n            updates.icon = vars['icon-default'];\n        }\n\n        onChange(updates);\n    };\n\n    // URL du sprite Lucide\n    const spriteUrl = window.siteforgeConfig?.spriteUrl || '';\n\n    return (\n        <FieldWrapper type=\"button\">\n            <FieldLabel label={field.label} help={config.help} />\n\n            {/* S√©lecteur de style */}\n            <div style={{ marginBottom: '16px' }}>\n                {isLoadingStyles ? (\n                    <Spinner />\n                ) : (\n                    <SelectControl\n                        label={__('Style du bouton', 'siteforge')}\n                        value={buttonValue.style}\n                        options={buttonStyles}\n                        onChange={handleStyleChange}\n                    />\n                )}\n            </div>\n\n            {/* Champs du lien (via LinkField inline) */}\n            <div style={{ marginBottom: '16px', padding: '12px', backgroundColor: '#f9f9f9', borderRadius: '4px' }}>\n                <LinkField\n                    field={{\n                        ...field,\n                        label: __('Lien', 'siteforge'),\n                        config: {\n                            ...config,\n                            modes: config.modes || ['link', 'page', 'phone', 'email'],\n                        },\n                    }}\n                    value={buttonValue.link}\n                    onChange={updateLink}\n                />\n            </div>\n\n            {/* Ic√¥ne (si activ√©e) */}\n            {areIconsEnabled() && (\n                <div style={{ marginBottom: '16px' }}>\n                    <FieldLabel label={__('Ic√¥ne', 'siteforge')} />\n\n                    {/* Affichage de l'ic√¥ne actuelle */}\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '8px' }}>\n                        {buttonValue.icon && spriteUrl && (\n                            <svg\n                                width=\"24\"\n                                height=\"24\"\n                                viewBox=\"0 0 24 24\"\n                                style={{\n                                    fill: 'none',\n                                    stroke: 'currentColor',\n                                    strokeWidth: 2,\n                                    strokeLinecap: 'round',\n                                    strokeLinejoin: 'round',\n                                }}\n                            >\n                                <use href={`${spriteUrl}#${buttonValue.icon}`} />\n                            </svg>\n                        )}\n                        <span style={{ color: buttonValue.icon ? 'inherit' : '#757575' }}>\n                            {buttonValue.icon || __('Aucune ic√¥ne', 'siteforge')}\n                        </span>\n                        {buttonValue.icon && (\n                            <Button\n                                variant=\"link\"\n                                isDestructive\n                                onClick={() => updateButton('icon', '')}\n                                size=\"small\"\n                            >\n                                {__('Supprimer', 'siteforge')}\n                            </Button>\n                        )}\n                    </div>\n\n                    {/* S√©lecteur d'ic√¥ne simplifi√© - utilise IconField */}\n                    <IconField\n                        field={{ ...field, label: '', config: {} }}\n                        value={buttonValue.icon}\n                        onChange={(iconVal) => updateButton('icon', iconVal)}\n                    />\n\n                    {/* Position de l'ic√¥ne */}\n                    {buttonValue.icon && isIconMoveEnabled() && (\n                        <div style={{ marginTop: '12px' }}>\n                            <FieldLabel label={__('Position de l\\'ic√¥ne', 'siteforge')} />\n                            <ButtonGroup>\n                                <Button\n                                    variant={buttonValue.iconPosition === 'before' ? 'primary' : 'secondary'}\n                                    onClick={() => updateButton('iconPosition', 'before')}\n                                    size=\"small\"\n                                >\n                                    {__('Avant', 'siteforge')}\n                                </Button>\n                                <Button\n                                    variant={buttonValue.iconPosition === 'after' ? 'primary' : 'secondary'}\n                                    onClick={() => updateButton('iconPosition', 'after')}\n                                    size=\"small\"\n                                >\n                                    {__('Apr√®s', 'siteforge')}\n                                </Button>\n                            </ButtonGroup>\n                        </div>\n                    )}\n                </div>\n            )}\n\n            {/* Message si ic√¥nes d√©sactiv√©es */}\n            {!areIconsEnabled() && (\n                <p style={{ fontSize: '12px', color: '#757575', fontStyle: 'italic' }}>\n                    {__('Les ic√¥nes sont d√©sactiv√©es pour ce style de bouton.', 'siteforge')}\n                </p>\n            )}\n        </FieldWrapper>\n    );\n};\n\n// ============================================================================\n// COMPOSANTS DE CHAMPS COMPLEXES\n// ============================================================================\n\n/**\n * Repeater Field Control\n */\nexport const RepeaterField = ({ field, value, onChange }) => {\n    const items = Array.isArray(value) ? value : [];\n    const config = field.config || {};\n    const subFields = config.sub_fields;\n\n    // Handlers utilisant arrayHelpers\n    const addItem = () => {\n        const newItem = createRepeaterItemDefaults(subFields);\n        onChange(arrayHelpers.add(items, newItem));\n    };\n\n    const removeItem = (index) => {\n        onChange(arrayHelpers.remove(items, index));\n    };\n\n    const moveItem = (fromIndex, toIndex) => {\n        onChange(arrayHelpers.move(items, fromIndex, toIndex));\n    };\n\n    const updateItem = (index, itemValue) => {\n        onChange(arrayHelpers.update(items, index, itemValue));\n    };\n\n    return (\n        <FieldWrapper type=\"repeater\">\n            <FieldLabel label={field.label} help={config.help} />\n\n            <div className=\"siteforge-repeater-items\">\n                {items.map((item, index) => (\n                    <div key={index} className=\"siteforge-repeater-item\">\n                        <div className=\"siteforge-repeater-item-header\">\n                            <span className=\"siteforge-repeater-item-title\">\n                                {__('Item', 'siteforge')} {index + 1}\n                            </span>\n                            <div className=\"siteforge-repeater-item-actions\">\n                                {index > 0 && (\n                                    <Button\n                                        variant=\"tertiary\"\n                                        icon=\"arrow-up-alt2\"\n                                        onClick={() => moveItem(index, index - 1)}\n                                        label={__('Move up', 'siteforge')}\n                                        size=\"small\"\n                                    />\n                                )}\n                                {index < items.length - 1 && (\n                                    <Button\n                                        variant=\"tertiary\"\n                                        icon=\"arrow-down-alt2\"\n                                        onClick={() => moveItem(index, index + 1)}\n                                        label={__('Move down', 'siteforge')}\n                                        size=\"small\"\n                                    />\n                                )}\n                                <Button\n                                    variant=\"tertiary\"\n                                    isDestructive\n                                    icon=\"trash\"\n                                    onClick={() => removeItem(index)}\n                                    label={__('Remove', 'siteforge')}\n                                    size=\"small\"\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"siteforge-repeater-item-fields\">\n                            {renderSubFields(subFields, item, (subName, subValue) => {\n                                updateItem(index, { ...item, [subName]: subValue });\n                            })}\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            <Button\n                variant=\"secondary\"\n                onClick={addItem}\n                className=\"siteforge-repeater-add\"\n            >\n                {config.button_label || __('Add Item', 'siteforge')}\n            </Button>\n        </FieldWrapper>\n    );\n};\n\n/**\n * Group Field Control\n */\nexport const GroupField = ({ field, value, onChange }) => {\n    const groupValue = value || {};\n    const config = field.config || {};\n    const subFields = config.sub_fields;\n\n    return (\n        <FieldWrapper type=\"group\">\n            <FieldLabel label={field.label} help={config.help} />\n\n            <div className=\"siteforge-group-fields\">\n                {renderSubFields(subFields, groupValue, (subName, subValue) => {\n                    onChange({ ...groupValue, [subName]: subValue });\n                })}\n            </div>\n        </FieldWrapper>\n    );\n};\n\n// ============================================================================\n// INITIALISATION DU MAPPING CENTRALIS√â\n// ============================================================================\n\nFieldControlsMap = {\n    text: TextField,\n    textarea: TextareaField,\n    wysiwyg: WysiwygField,\n    image: ImageField,\n    file: FileField,\n    select: SelectField,\n    checkbox: CheckboxField,\n    toggle: ToggleField,\n    link: LinkField,\n    icon: IconField,\n    button: ButtonField,\n    repeater: RepeaterField,\n    group: GroupField,\n    number: NumberField,\n    range: RangeField,\n    url: UrlField,\n    email: EmailField,\n    color: ColorField,\n};\n\n// Export du mapping\nexport const FieldControls = FieldControlsMap;\n\n// Export des composants utilitaires pour r√©utilisation externe\nexport { FieldWrapper, FieldLabel, renderSubFields };\n","/**\n * SiteForge Field Control Factory\n * G√©n√®re automatiquement les InspectorControls depuis les field definitions\n */\n\nimport { __ } from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody } from '@wordpress/components';\nimport { FieldControls } from './field-controls';\nimport { getBlockFields } from './helpers';\n\n// ============================================================================\n// COMPOSANTS DE RENDU DE CHAMPS\n// ============================================================================\n\n/**\n * Affiche une erreur pour un type de champ inconnu\n */\nconst UnknownFieldError = ({ field }) => (\n    <div className=\"siteforge-error\">\n        <p className=\"siteforge-error-title\">\n            {__('Error', 'siteforge')}: {__('Unknown field type', 'siteforge')}\n        </p>\n        <p>\n            {__('Field', 'siteforge')}: <code>{field.name}</code>\n            <br />\n            {__('Type', 'siteforge')}: <code>{field.type}</code>\n        </p>\n    </div>\n);\n\n/**\n * Rend un champ unique avec son composant appropri√©\n */\nconst renderField = (field, attributes, setAttributes) => {\n    const FieldComponent = FieldControls[field.type];\n\n    if (!FieldComponent) {\n        console.warn(`[SiteForge] Unknown field type: ${field.type} for field: ${field.name}`);\n        return <UnknownFieldError key={field.name} field={field} />;\n    }\n\n    return (\n        <FieldComponent\n            key={field.name}\n            field={field}\n            value={attributes[field.name]}\n            onChange={(value) => setAttributes({ [field.name]: value })}\n        />\n    );\n};\n\n/**\n * Rend une liste de champs\n */\nconst renderFields = (fields, attributes, setAttributes) => {\n    return fields.map((field) => renderField(field, attributes, setAttributes));\n};\n\n// ============================================================================\n// FACTORY FUNCTIONS\n// ============================================================================\n\n/**\n * Cr√©e les InspectorControls React depuis les d√©finitions de champs\n *\n * @param {string} blockName - Nom du bloc (ex: 'siteforge/hero')\n * @param {Object} attributes - Attributs du bloc\n * @param {Function} setAttributes - Fonction pour mettre √† jour les attributs\n * @param {string} panelTitle - Titre du panel (optionnel)\n * @return {JSX.Element|null} Composant InspectorControls ou null\n */\nexport const createFieldControls = (blockName, attributes, setAttributes, panelTitle = null) => {\n    const fields = getBlockFields(blockName);\n\n    if (!fields) {\n        return null;\n    }\n\n    const defaultPanelTitle = panelTitle || __('Block Settings', 'siteforge');\n\n    return (\n        <InspectorControls>\n            <PanelBody title={defaultPanelTitle} initialOpen={true}>\n                {renderFields(fields, attributes, setAttributes)}\n            </PanelBody>\n        </InspectorControls>\n    );\n};\n\n/**\n * Cr√©e plusieurs panels group√©s par sections\n *\n * @param {string} blockName - Nom du bloc\n * @param {Object} attributes - Attributs du bloc\n * @param {Function} setAttributes - Fonction pour mettre √† jour les attributs\n * @param {Object} sections - Object avec sections {sectionName: {title, fields: [fieldNames], initialOpen}}\n * @return {JSX.Element|null} Composant InspectorControls ou null\n *\n * @example\n * createSectionedFieldControls('siteforge/hero', attributes, setAttributes, {\n *     content: {\n *         title: 'Content',\n *         fields: ['title', 'subtitle', 'description'],\n *         initialOpen: true\n *     },\n *     style: {\n *         title: 'Style',\n *         fields: ['backgroundColor', 'textColor'],\n *         initialOpen: false\n *     }\n * });\n */\nexport const createSectionedFieldControls = (blockName, attributes, setAttributes, sections) => {\n    const allFields = getBlockFields(blockName);\n\n    if (!allFields) {\n        return null;\n    }\n\n    return (\n        <InspectorControls>\n            {Object.entries(sections).map(([sectionKey, section]) => {\n                // Filtrer les champs pour cette section\n                const sectionFields = allFields.filter((field) =>\n                    section.fields.includes(field.name)\n                );\n\n                if (sectionFields.length === 0) {\n                    return null;\n                }\n\n                return (\n                    <PanelBody\n                        key={sectionKey}\n                        title={section.title}\n                        initialOpen={section.initialOpen !== undefined ? section.initialOpen : true}\n                    >\n                        {renderFields(sectionFields, attributes, setAttributes)}\n                    </PanelBody>\n                );\n            })}\n        </InspectorControls>\n    );\n};\n\n/**\n * Cr√©e des InspectorControls avec des onglets (tabs)\n *\n * @param {string} blockName - Nom du bloc\n * @param {Object} attributes - Attributs du bloc\n * @param {Function} setAttributes - Fonction pour mettre √† jour les attributs\n * @param {Array} tabs - Configuration des onglets [{name, title, icon, fields: [fieldNames]}]\n * @return {JSX.Element|null} Composant InspectorControls ou null\n */\nexport const createTabbedFieldControls = (blockName, attributes, setAttributes, tabs) => {\n    const allFields = getBlockFields(blockName);\n\n    if (!allFields) {\n        return null;\n    }\n\n    // Import dynamique du TabPanel si n√©cessaire\n    const { TabPanel } = wp.components;\n\n    const tabsConfig = tabs.map((tab) => ({\n        name: tab.name,\n        title: tab.title,\n        icon: tab.icon,\n        className: `siteforge-tab-${tab.name}`,\n    }));\n\n    return (\n        <InspectorControls>\n            <TabPanel tabs={tabsConfig}>\n                {(tab) => {\n                    const tabConfig = tabs.find((t) => t.name === tab.name);\n                    const tabFields = allFields.filter((field) =>\n                        tabConfig.fields.includes(field.name)\n                    );\n\n                    return (\n                        <PanelBody>\n                            {renderFields(tabFields, attributes, setAttributes)}\n                        </PanelBody>\n                    );\n                }}\n            </TabPanel>\n        </InspectorControls>\n    );\n};\n\n// ============================================================================\n// HOOKS\n// ============================================================================\n\n/**\n * Hook React pour utiliser les field controls\n *\n * @param {string} blockName - Nom du bloc\n * @return {Object} {hasFields, fieldCount, fieldNames, fields, getField}\n */\nexport const useSiteForgeFields = (blockName) => {\n    const fields = getBlockFields(blockName);\n\n    if (!fields) {\n        return {\n            hasFields: false,\n            fieldCount: 0,\n            fieldNames: [],\n            fields: [],\n            getField: () => null,\n        };\n    }\n\n    return {\n        hasFields: true,\n        fieldCount: fields.length,\n        fieldNames: fields.map((f) => f.name),\n        fields: fields,\n        getField: (name) => fields.find((f) => f.name === name) || null,\n    };\n};\n\n/**\n * Hook pour cr√©er facilement les setters d'attributs\n *\n * @param {Function} setAttributes - Fonction setAttributes de Gutenberg\n * @param {Array} fieldNames - Liste des noms de champs\n * @return {Object} Objet avec les setters {setTitle, setSubtitle, ...}\n */\nexport const useAttributeSetters = (setAttributes, fieldNames) => {\n    const setters = {};\n\n    fieldNames.forEach((name) => {\n        // Convertit 'myField' en 'setMyField'\n        const setterName = `set${name.charAt(0).toUpperCase()}${name.slice(1)}`;\n        setters[setterName] = (value) => setAttributes({ [name]: value });\n    });\n\n    return setters;\n};\n\n// ============================================================================\n// COMPOSANT WRAPPER\n// ============================================================================\n\n/**\n * Composant wrapper pour afficher les controls d'un bloc\n *\n * @example\n * <SiteForgeBlockControls\n *     blockName=\"siteforge/hero\"\n *     attributes={attributes}\n *     setAttributes={setAttributes}\n * >\n *     <div>Block content here</div>\n * </SiteForgeBlockControls>\n */\nexport const SiteForgeBlockControls = ({\n    blockName,\n    attributes,\n    setAttributes,\n    panelTitle,\n    sections,\n    children,\n}) => {\n    // Si sections est fourni, utiliser les panels sectionn√©s\n    const controls = sections\n        ? createSectionedFieldControls(blockName, attributes, setAttributes, sections)\n        : createFieldControls(blockName, attributes, setAttributes, panelTitle);\n\n    return (\n        <>\n            {controls}\n            {children}\n        </>\n    );\n};\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\nexport default createFieldControls;\n","/**\n * Register SiteForge Blocks\n * Enregistre automatiquement tous les blocs d√©couverts avec leurs field controls\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport { createElement, Fragment, useRef, useEffect, useState, createPortal } from '@wordpress/element';\nimport { createFieldControls } from './field-control-factory';\nimport { InspectorControls, InnerBlocks, useBlockProps } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport { Placeholder, Spinner } from '@wordpress/components';\nimport { ServerSideRender } from '@wordpress/server-side-render';\n\n/**\n * Composant InnerBlocks qui se monte dans un placeholder du DOM\n */\nconst InnerBlocksPortal = ({ container, allowedBlocks, template, templateLock }) => {\n    if (!container) return null;\n\n    return createPortal(\n        createElement(InnerBlocks, {\n            allowedBlocks: allowedBlocks,\n            template: template,\n            templateLock: templateLock,\n        }),\n        container\n    );\n};\n\n/**\n * Composant Edit g√©n√©rique pour tous les blocs SiteForge avec ServerSideRender\n */\nconst SiteForgeBlockEdit = ({ attributes, setAttributes, blockName, clientId }) => {\n    const wrapperRef = useRef(null);\n    const [innerBlocksContainer, setInnerBlocksContainer] = useState(null);\n    const [innerBlocksConfig, setInnerBlocksConfig] = useState(null);\n\n    // Cr√©er les field controls automatiquement pour la sidebar\n    const controls = createFieldControls(blockName, attributes, setAttributes);\n\n    // Use block props pour les wrappers Gutenberg\n    const blockProps = useBlockProps({\n        className: 'siteforge-block-editor-wrapper',\n        ref: wrapperRef,\n    });\n\n    // Observer le DOM pour d√©tecter les placeholders <div class=\"sf-inner-blocks\">\n    useEffect(() => {\n        if (!wrapperRef.current) return;\n\n        // Helper pour d√©coder les entit√©s HTML\n        const decodeHtml = (html) => {\n            const txt = document.createElement('textarea');\n            txt.innerHTML = html;\n            return txt.value;\n        };\n\n        const observer = new MutationObserver(() => {\n            const placeholder = wrapperRef.current.querySelector('.sf-inner-blocks');\n            if (placeholder && placeholder !== innerBlocksContainer) {\n                // Lire la config depuis les data-attributes\n                let allowedBlocks, template;\n                try {\n                    const allowedRaw = placeholder.getAttribute('data-allowed-blocks');\n                    const templateRaw = placeholder.getAttribute('data-template');\n                    allowedBlocks = allowedRaw ? JSON.parse(decodeHtml(allowedRaw)) : undefined;\n                    template = templateRaw ? JSON.parse(decodeHtml(templateRaw)) : undefined;\n                } catch (e) {\n                    console.error('[SiteForge] Error parsing InnerBlocks config:', e);\n                }\n\n                const config = {\n                    allowedBlocks,\n                    template,\n                    templateLock: placeholder.dataset.templateLock === 'false'\n                        ? false\n                        : placeholder.dataset.templateLock || false,\n                };\n                // Marquer le placeholder comme trait√© pour √©viter les doublons\n                if (!placeholder.dataset.processed) {\n                    placeholder.dataset.processed = 'true';\n                    setInnerBlocksConfig(config);\n                    setInnerBlocksContainer(placeholder);\n                }\n            }\n        });\n\n        observer.observe(wrapperRef.current, {\n            childList: true,\n            subtree: true,\n        });\n\n        // Check imm√©diat au cas o√π le SSR est d√©j√† rendu\n        const placeholder = wrapperRef.current.querySelector('.sf-inner-blocks');\n        if (placeholder) {\n            let allowedBlocks, template;\n            try {\n                const allowedRaw = placeholder.getAttribute('data-allowed-blocks');\n                const templateRaw = placeholder.getAttribute('data-template');\n                allowedBlocks = allowedRaw ? JSON.parse(decodeHtml(allowedRaw)) : undefined;\n                template = templateRaw ? JSON.parse(decodeHtml(templateRaw)) : undefined;\n            } catch (e) {\n                console.error('[SiteForge] Error parsing initial InnerBlocks config:', e);\n            }\n\n            const config = {\n                allowedBlocks,\n                template,\n                templateLock: placeholder.dataset.templateLock === 'false'\n                    ? false\n                    : placeholder.dataset.templateLock || false,\n            };\n            if (!placeholder.dataset.processed) {\n                placeholder.dataset.processed = 'true';\n                setInnerBlocksConfig(config);\n                setInnerBlocksContainer(placeholder);\n            }\n        }\n\n        return () => observer.disconnect();\n    }, []);\n\n    return createElement(Fragment, null, [\n        // InspectorControls dans la sidebar\n        controls,\n\n        // Rendu principal dans l'√©diteur\n        createElement('div', blockProps, [\n            // ServerSideRender affiche le m√™me rendu que le front-end\n            createElement(ServerSideRender, {\n                key: 'server-side-render',\n                block: blockName,\n                attributes: attributes,\n                httpMethod: 'POST',\n                LoadingResponsePlaceholder: () => createElement(Placeholder, {\n                    icon: 'block-default',\n                    label: __('Chargement...', 'siteforge'),\n                }, createElement(Spinner)),\n                ErrorResponsePlaceholder: ({ response }) => createElement(Placeholder, {\n                    icon: 'warning',\n                    label: __('Erreur de rendu', 'siteforge'),\n                }, createElement('div', {\n                    style: { color: '#d94f4f' }\n                }, response?.message || __('Impossible de charger le bloc', 'siteforge'))),\n            }),\n        ]),\n\n        // Portal pour InnerBlocks - se monte dans le placeholder d√©tect√©\n        innerBlocksContainer && innerBlocksConfig && createElement(InnerBlocksPortal, {\n            key: 'inner-blocks-portal',\n            container: innerBlocksContainer,\n            allowedBlocks: innerBlocksConfig.allowedBlocks,\n            template: innerBlocksConfig.template,\n            templateLock: innerBlocksConfig.templateLock,\n        }),\n    ]);\n};\n\n/**\n * Composant Save pour sauvegarder les InnerBlocks\n */\nconst SiteForgeBlockSave = () => {\n    // Sauvegarder le contenu des InnerBlocks pour qu'il soit disponible dans render.php via $content\n    return createElement(InnerBlocks.Content);\n};\n\n/**\n * Auto-register all SiteForge blocks\n */\nexport const registerSiteForgeBlocks = () => {\n    // V√©rifier que les blocs sont disponibles\n    if (typeof window.siteforgeBlocks === 'undefined') {\n        console.warn('[SiteForge] No blocks to register');\n        return;\n    }\n\n    const blocks = window.siteforgeBlocks;\n\n    Object.keys(blocks).forEach((blockName) => {\n        const blockData = blocks[blockName];\n\n        // V√©rifier si le bloc est d√©j√† enregistr√© c√¥t√© client\n        const existingBlock = wp.blocks.getBlockType(blockName);\n\n        if (existingBlock) {\n            console.log(`[SiteForge] Block ${blockName} already registered in JavaScript, skipping`);\n            return;\n        }\n\n        // Enregistrer le bloc c√¥t√© client avec notre composant React\n        console.log(`[SiteForge] Registering block ${blockName}...`);\n\n        // Pr√©parer les attributs depuis les fields\n        const attributes = {};\n        if (blockData.fields && Array.isArray(blockData.fields)) {\n            blockData.fields.forEach(field => {\n                const fieldConfig = field.config || {};\n\n                // D√©terminer le type d'attribut selon le type de champ\n                let attrType = 'string';\n\n                // Map des types simples\n                const typeMap = {\n                    text: 'string',\n                    textarea: 'string',\n                    wysiwyg: 'string',\n                    select: 'string',\n                    checkbox: 'boolean',\n                    number: 'number',\n                    range: 'number',\n                    url: 'string',\n                    email: 'string',\n                    color: 'string',\n                    icon: 'string',\n                    link: 'object',\n                    repeater: 'array',\n                    group: 'object',\n                };\n\n                if (typeMap[field.type]) {\n                    attrType = typeMap[field.type];\n                }\n\n                // Cas sp√©cial: image avec return_value\n                if (field.type === 'image') {\n                    const returnValue = fieldConfig.return_value || 'url';\n                    if (returnValue === 'id') {\n                        attrType = 'number';\n                    } else if (returnValue === 'object') {\n                        attrType = 'object';\n                    } else {\n                        attrType = 'string'; // url\n                    }\n                }\n\n                attributes[field.name] = {\n                    type: attrType,\n                };\n\n                // Ajouter la valeur par d√©faut si pr√©sente\n                if (fieldConfig.default !== undefined) {\n                    attributes[field.name].default = fieldConfig.default;\n                } else if (attrType === 'object') {\n                    // Default empty object for object types\n                    attributes[field.name].default = {};\n                } else if (attrType === 'array') {\n                    // Default empty array for array types\n                    attributes[field.name].default = [];\n                }\n            });\n        }\n\n        try {\n            registerBlockType(blockName, {\n                title: blockData.title || blockName,\n                description: blockData.description || '',\n                category: 'siteforge',\n                icon: blockData.icon || 'block-default',\n                supports: blockData.supports || {\n                    align: true,\n                    anchor: true,\n                    spacing: {\n                        margin: true,\n                        padding: true,\n                    },\n                },\n                attributes: attributes,\n                edit: (props) => createElement(SiteForgeBlockEdit, {\n                    ...props,\n                    blockName: blockName\n                }),\n                save: SiteForgeBlockSave,\n            });\n\n            console.log(`[SiteForge] ‚úÖ Block ${blockName} registered with ${Object.keys(attributes).length} attributes`);\n        } catch (error) {\n            console.error(`[SiteForge] ‚ùå Failed to register block ${blockName}:`, error);\n        }\n    });\n};\n\n// Auto-register on load\nif (typeof wp !== 'undefined' && typeof wp.blocks !== 'undefined') {\n    registerSiteForgeBlocks();\n} else {\n    console.warn('[SiteForge] WordPress blocks API not available');\n}\n","/**\n * SiteForge Block Editor\n * Point d'entr√©e principal pour les assets de l'√©diteur\n */\n\n// Import des helpers\nimport helpers, {\n    getBlockFields,\n    getBlockData,\n    arrayHelpers,\n    imageHelpers,\n    objectHelpers,\n    styleHelpers,\n    validationHelpers,\n    normalizeField,\n    createRepeaterItemDefaults,\n    createAttributeSetter,\n    createAttributeSetters,\n} from './helpers';\n\n// Import des field controls\nimport {\n    FieldControls,\n    TextField,\n    TextareaField,\n    WysiwygField,\n    ImageField,\n    FileField,\n    SelectField,\n    CheckboxField,\n    ToggleField,\n    NumberField,\n    RangeField,\n    UrlField,\n    EmailField,\n    ColorField,\n    RepeaterField,\n    GroupField,\n    FieldWrapper,\n    FieldLabel,\n    getFieldComponent,\n    renderSubFields,\n} from './field-controls';\n\n// Import du factory\nimport {\n    createFieldControls,\n    createSectionedFieldControls,\n    createTabbedFieldControls,\n    useSiteForgeFields,\n    useAttributeSetters,\n    SiteForgeBlockControls,\n} from './field-control-factory';\n\n// Import de l'enregistrement automatique des blocs\nimport { registerSiteForgeBlocks } from './register-blocks';\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\nexport {\n    // ========== Helpers ==========\n    helpers,\n    getBlockFields,\n    getBlockData,\n    arrayHelpers,\n    imageHelpers,\n    objectHelpers,\n    styleHelpers,\n    validationHelpers,\n    normalizeField,\n    createRepeaterItemDefaults,\n    createAttributeSetter,\n    createAttributeSetters,\n\n    // ========== Field Controls ==========\n    TextField,\n    TextareaField,\n    WysiwygField,\n    ImageField,\n    FileField,\n    SelectField,\n    CheckboxField,\n    ToggleField,\n    NumberField,\n    RangeField,\n    UrlField,\n    EmailField,\n    ColorField,\n    RepeaterField,\n    GroupField,\n\n    // ========== Composants utilitaires ==========\n    FieldWrapper,\n    FieldLabel,\n    getFieldComponent,\n    renderSubFields,\n\n    // ========== Objet contenant tous les controls ==========\n    FieldControls,\n\n    // ========== Factory functions ==========\n    createFieldControls,\n    createSectionedFieldControls,\n    createTabbedFieldControls,\n\n    // ========== React Hooks ==========\n    useSiteForgeFields,\n    useAttributeSetters,\n\n    // ========== Wrapper Component ==========\n    SiteForgeBlockControls,\n\n    // ========== Register function ==========\n    registerSiteForgeBlocks,\n};\n\n// Export par d√©faut du factory principal\nexport default createFieldControls;\n\n// ============================================================================\n// GLOBAL WINDOW OBJECT\n// ============================================================================\n\n// Rendre disponible globalement pour les blocs qui utilisent wp.element.createElement\nwindow.SiteForge = window.SiteForge || {};\n\n// Helpers\nwindow.SiteForge.helpers = helpers;\nwindow.SiteForge.getBlockFields = getBlockFields;\nwindow.SiteForge.getBlockData = getBlockData;\nwindow.SiteForge.arrayHelpers = arrayHelpers;\nwindow.SiteForge.imageHelpers = imageHelpers;\nwindow.SiteForge.objectHelpers = objectHelpers;\nwindow.SiteForge.styleHelpers = styleHelpers;\n\n// Field Controls\nwindow.SiteForge.FieldControls = FieldControls;\nwindow.SiteForge.getFieldComponent = getFieldComponent;\nwindow.SiteForge.FieldWrapper = FieldWrapper;\nwindow.SiteForge.FieldLabel = FieldLabel;\n\n// Factory\nwindow.SiteForge.createFieldControls = createFieldControls;\nwindow.SiteForge.createSectionedFieldControls = createSectionedFieldControls;\nwindow.SiteForge.createTabbedFieldControls = createTabbedFieldControls;\n\n// Hooks\nwindow.SiteForge.useSiteForgeFields = useSiteForgeFields;\nwindow.SiteForge.useAttributeSetters = useAttributeSetters;\n\n// Components\nwindow.SiteForge.SiteForgeBlockControls = SiteForgeBlockControls;\n\n// Registration\nwindow.SiteForge.registerSiteForgeBlocks = registerSiteForgeBlocks;\n\n// ============================================================================\n// AUTO-INITIALIZATION\n// ============================================================================\n\n// Debug logs (only in development)\nif (process.env.NODE_ENV !== 'production') {\n    console.log('[SiteForge] Block editor components loaded');\n    console.log('[SiteForge] Available field types:', Object.keys(FieldControls));\n}\n\nif (window.siteforgeBlocks) {\n    if (process.env.NODE_ENV !== 'production') {\n        console.log('[SiteForge] Registered blocks:', Object.keys(window.siteforgeBlocks));\n    }\n\n    // Auto-register blocks when ready\n    if (typeof wp !== 'undefined' && typeof wp.domReady !== 'undefined') {\n        wp.domReady(() => {\n            if (process.env.NODE_ENV !== 'production') {\n                console.log('[SiteForge] Auto-registering blocks...');\n            }\n            registerSiteForgeBlocks();\n        });\n    } else {\n        // Fallback: register on window load\n        window.addEventListener('load', () => {\n            if (process.env.NODE_ENV !== 'production') {\n                console.log('[SiteForge] Auto-registering blocks (fallback)...');\n            }\n            registerSiteForgeBlocks();\n        });\n    }\n}\n"],"names":["getBlockFields","blockName","window","siteforgeBlocks","blockData","fields","Array","isArray","length","getBlockData","arrayHelpers","add","arr","item","remove","index","filter","_","i","move","fromIndex","toIndex","result","splice","update","value","updateProp","prop","imageHelpers","isEmpty","Object","keys","getUrl","url","getId","id","formatValue","media","returnValue","alt","title","width","height","objectHelpers","setProp","obj","getProp","defaultValue","merge","objects","assign","normalizeField","name","fieldDef","type","label","replace","c","toUpperCase","config","createRepeaterItemDefaults","subFields","defaults","entries","forEach","field","default","styleHelpers","classNames","args","flat","cls","v","map","k","join","trim","inlineStyle","styles","key","validationHelpers","isValidUrl","URL","isValidEmail","email","test","createAttributeSetter","setAttributes","createAttributeSetters","fieldNames","setters","helpers","createGroupDefaults","jsxRuntimeModule","exports","f","require$$0","Symbol","for","l","m","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","ref","__self","__source","q","a","g","b","d","e","h","call","defaultProps","$$typeof","props","_owner","current","reactJsxRuntime_production_min","jsx","jsxs","FieldWrapper","children","className","FieldLabel","help","Fragment","FieldControlsMap","getFieldComponent","renderSubFields","values","onFieldChange","subName","subField","onChange","SubFieldComponent","console","warn","renderSubField","newValue","TextField","TextControl","placeholder","_a","_b","required","_c","TextareaField","TextareaControl","rows","WysiwygField","RichText","tagName","__","NumberField","val","Number","min","max","step","RangeField","RangeControl","UrlField","EmailField","SelectField","choices","options","SelectControl","CheckboxField","CheckboxControl","checked","ToggleField","ColorField","ColorPicker","color","onChangeComplete","hex","ImageField","return_value","imageUrl","MediaUploadCheck","MediaUpload","onSelect","allowedTypes","render","open","src","style","maxWidth","marginBottom","Button","variant","onClick","isDestructive","marginLeft","FileField","fileUrl","fileName","split","pop","allowed_types","IconField","icons","setIcons","useState","isLoading","setIsLoading","searchTerm","setSearchTerm","isOpen","setIsOpen","useEffect","async","response","apiFetch","path","error","loadIcons","filteredIcons","icon","toLowerCase","includes","spriteUrl","siteforgeConfig","display","alignItems","gap","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","href","marginTop","padding","border","borderRadius","backgroundColor","textAlign","Spinner","gridTemplateColumns","maxHeight","overflowY","slice","justifyContent","cursor","transition","onMouseEnter","currentTarget","borderColor","onMouseLeave","fontSize","LinkField","availableModes","modes","defaultMode","default_mode","linkValue","mode","postId","postTitle","phone","target","searchResults","setSearchResults","isSearching","setIsSearching","searchInput","setSearchInput","updateLink","timer","setTimeout","search","postTypes","post_types","results","encodeURIComponent","subtype","searchPosts","clearTimeout","modeLabels","link","page","modeIcons","ButtonGroup","size","BaseControl","ComboboxControl","selected","find","r","onFilterValueChange","input","RepeaterField","items","sub_fields","moveItem","removeItem","subValue","itemValue","updateItem","newItem","button_label","GroupField","groupValue","text","textarea","wysiwyg","image","file","select","checkbox","toggle","button","buttonStyles","setButtonStyles","stylesData","setStylesData","isLoadingStyles","setIsLoadingStyles","buttonValue","iconPosition","loadStyles","getStyleVariables","styleName","s","variables","areIconsEnabled","updateButton","newStyle","vars","updates","linkVal","iconVal","fontStyle","repeater","group","number","range","FieldControls","UnknownFieldError","renderFields","attributes","FieldComponent","renderField","createFieldControls","panelTitle","defaultPanelTitle","InspectorControls","PanelBody","initialOpen","createSectionedFieldControls","sections","allFields","sectionKey","section","sectionFields","createTabbedFieldControls","tabs","TabPanel","wp","components","tabsConfig","tab","tabConfig","t","tabFields","useSiteForgeFields","hasFields","fieldCount","getField","useAttributeSetters","setterName","charAt","SiteForgeBlockControls","controls","InnerBlocksPortal","container","allowedBlocks","template","templateLock","createPortal","createElement","InnerBlocks","SiteForgeBlockEdit","clientId","wrapperRef","useRef","innerBlocksContainer","setInnerBlocksContainer","innerBlocksConfig","setInnerBlocksConfig","blockProps","useBlockProps","decodeHtml","html","txt","document","innerHTML","observer","MutationObserver","querySelector","allowedRaw","getAttribute","templateRaw","JSON","parse","dataset","processed","observe","childList","subtree","disconnect","ServerSideRender","block","httpMethod","LoadingResponsePlaceholder","Placeholder","ErrorResponsePlaceholder","message","SiteForgeBlockSave","Content","registerSiteForgeBlocks","blocks","getBlockType","log","fieldConfig","attrType","typeMap","registerBlockType","description","category","supports","align","anchor","spacing","margin","edit","save","SiteForge","domReady","addEventListener"],"mappings":"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","x_google_ignoreList":[1,2]}