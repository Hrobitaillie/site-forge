{"version":3,"file":"index.js","sources":["../../../src/blocks/buttons-v2/index.jsx","../../../src/blocks/buttons-v2/edit.jsx"],"sourcesContent":["import { registerBlockType } from \"@wordpress/blocks\";\nimport metadata from \"./block.json\";\nimport edit from \"./edit\";\nimport \"./style.scss\";\n\nregisterBlockType(metadata.name, {\n  icon: {\n    src: (\n        <svg xmlns='http://www.w3.org/2000/svg' width='552' height='424' fill='none' viewBox='0 0 552 424'>\n          <path fill='currentColor' fill-rule='evenodd' d='M439.86 30.456H112.347c-45.049 0-81.568 36.52-81.568 81.568 0 45.049 36.52 81.569 81.568 81.569H439.86c45.049 0 81.568-36.52 81.568-81.569s-36.519-81.568-81.568-81.568Zm-327.513-30C50.73.456.779 50.406.779 112.024c0 61.618 49.95 111.569 111.568 111.569H439.86c61.617 0 111.568-49.951 111.568-111.569C551.428 50.407 501.477.456 439.86.456H112.347Z' clip-rule='evenodd'/><path fill='white' d='M448.627 192.55c12.759-7.367 29.788-2.804 37.154 9.955l27.199 47.11c22.666 39.259 8.901 89.082-29.866 111.464l-47.111 27.199c-21.101 12.183-46.887 13.985-68.789 4.383l-79.222-34.087c-4.927-1.735-8.175-5.094-10.442-9.02-6.516-11.287-2.783-25.22 7.522-31.169 6.38-3.684 13.968-4.139 20.728-1.498l40.431 17.373c2.652 1.139 5.226-1.757 3.783-4.257l-86.998-150.684c-6.233-10.796-2.99-24.445 8.297-30.962 10.796-6.233 24.729-2.5 30.962 8.296l38.594 66.847c1.336 2.315 5.069 1.917 6.468-.36 2.133-3.469 5.184-6.51 9.173-8.814 9.034-5.216 19.897-4.361 28.473 1.25 2.3 1.505 6.234-.008 6.994-2.65 1.816-6.308 5.932-12.032 12.251-15.68 9.984-5.765 22.201-4.114 31.097 3.176 1.667 1.366 4.307.945 5.535-.826 1.893-2.731 4.399-5.102 7.767-7.046Z'/><path fill='currentColor' fill-rule='evenodd' d='m305.8 316.887 40.431 17.373c2.652 1.139 5.226-1.757 3.783-4.256L263.016 179.32c-6.233-10.797-2.99-24.446 8.297-30.963 10.796-6.233 24.729-2.499 30.962 8.297l38.594 66.846c1.336 2.315 5.069 1.917 6.468-.36 1.718-2.794 4.031-5.311 6.951-7.387a27.743 27.743 0 0 1 2.222-1.426c.744-.43 1.5-.818 2.267-1.166 8.541-3.877 18.336-2.733 26.206 2.415 2.3 1.505 6.234-.008 6.994-2.65 1.816-6.308 5.932-12.032 12.251-15.68 9.984-5.765 22.201-4.114 31.097 3.176 1.667 1.366 4.308.945 5.536-.826 1.892-2.731 4.398-5.102 7.766-7.046 12.759-7.366 29.788-2.803 37.154 9.956l27.199 47.11c22.666 39.258 8.901 89.081-29.866 111.464l-47.11 27.199c-21.102 12.183-46.888 13.984-68.79 4.382l-79.222-34.086c-4.927-1.735-8.175-5.095-10.442-9.02-6.516-11.287-2.783-25.22 7.522-31.17 6.38-3.683 13.969-4.139 20.728-1.498Zm-27.065 64.92 78.527 33.788c29.507 12.902 63.61 10.288 91.242-5.666l47.11-27.199c50.627-29.229 68.643-94.301 39.017-145.614l-27.199-47.11c-14.27-24.717-46.589-33.377-71.305-19.107-.502.29-.996.586-1.482.888-13.542-4.766-29.053-4.196-42.917 3.808a51.399 51.399 0 0 0-13.333 11.037c-9.218-1.611-18.962-.796-28.209 3.006l-26.261-45.484c-13.136-22.754-42.359-30.584-65.112-17.447-23.598 13.624-30.378 42.716-17.447 65.113l56.814 98.405a48.627 48.627 0 0 0-25.608 6.509c-22.96 13.256-29.683 42.786-16.673 65.321 4.337 7.51 11.498 15.47 22.836 19.752Z' clip-rule='evenodd'/>\n        </svg>\n    ),\n  },\n  edit,\n});\n","import {\n  useBlockProps,\n  RichText,\n  BlockControls,\n  InspectorControls,\n  useBlockEditContext,\n} from \"@wordpress/block-editor\";\nimport {\n  ToolbarButton,\n  ToolbarGroup,\n  Dropdown,\n  SelectControl,\n  ComboboxControl,\n  Button,\n  PanelBody,\n  BaseControl,\n  ButtonGroup,\n  ToggleControl,\n  TextControl,\n  Spinner,\n  Icon,\n  Modal,\n  SearchControl,\n  __experimentalToggleGroupControl as ToggleGroupControl,\n  __experimentalToggleGroupControlOption as ToggleGroupControlOption,\n} from \"@wordpress/components\";\nimport {\n  justifyLeft,\n  justifyCenter,\n  justifyRight,\n  justifySpaceBetween,\n  settings,\n  trash,\n  star,\n} from \"@wordpress/icons\";\nimport { useState, useMemo, useEffect } from \"@wordpress/element\";\nimport { useSelect } from \"@wordpress/data\";\nimport { sprintf, _n } from \"@wordpress/i18n\";\nimport apiFetch from \"@wordpress/api-fetch\";\n\nexport default function Edit({ attributes, setAttributes, clientId }) {\n  // DEBUG: Log au montage du composant\n  console.log('[buttons-v2] Edit component mounted');\n  console.log('[buttons-v2] attributes:', attributes);\n  console.log('[buttons-v2] clientId:', clientId);\n  console.log('[buttons-v2] window.siteforgeConfig:', window.siteforgeConfig);\n\n  const {\n    data = {\n      settings: {\n        justifyValue: \"justify-start\",\n        flexWrap: true,\n        gap: \"1rem\",\n      },\n      buttons: [],\n    },\n  } = attributes;\n\n  // Fonction pour générer un ID unique basé sur le clientId du bloc et un timestamp\n  const generateUniqueId = () => {\n    return `${clientId}-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n  };\n\n  // S'assurer que tous les boutons existants ont un ID unique\n  const ensureButtonIds = (buttonsArray) => {\n    return buttonsArray.map((btn, index) => ({\n      ...btn,\n      id: btn.id || `${clientId}-btn-${index}-${Date.now()}`\n    }));\n  };\n\n  const { settings: layoutSettings, buttons } = data;\n\n  // State pour les styles de boutons récupérés depuis l'API\n  const [buttonStyles, setButtonStyles] = useState([]);\n  const [buttonStylesData, setButtonStylesData] = useState([]); // Garde les données complètes\n  const [loadingStyles, setLoadingStyles] = useState(true);\n\n  // Vérifier et ajouter les IDs manquants aux boutons existants\n  useEffect(() => {\n    const buttonsNeedIds = buttons.some(btn => !btn.id);\n    if (buttonsNeedIds && buttons.length > 0) {\n      const buttonsWithIds = ensureButtonIds(buttons);\n      setAttributes({\n        data: {\n          ...data,\n          buttons: buttonsWithIds,\n        },\n      });\n    }\n  }, [clientId]); // Se déclenche si clientId change\n\n  // Récupère dynamiquement les styles depuis la route WP REST API SiteForge\n  useEffect(() => {\n    const fetchStyles = async () => {\n      console.log('[buttons-v2] Fetching button styles from API...');\n      try {\n        const styles = await apiFetch({ path: '/siteforge/v1/button-styles' });\n        console.log('[buttons-v2] Button styles received:', styles);\n\n        const styleOptions = styles.map((style) => ({\n          label: style.variables?.title || style.label || style.name.replace(/^btn-/, \"\").replace(/-/g, \" \"),\n          value: style.name,\n        }));\n\n        setButtonStyles(styleOptions);\n        setButtonStylesData(styles); // Stocke les données complètes pour l'utilisation des variables\n      } catch (error) {\n        console.error(\"[buttons-v2] Erreur API button-styles:\", error);\n        setButtonStyles([{ label: \"Primaire\", value: \"btn-primary\" }]);\n        setButtonStylesData([]);\n      } finally {\n        setLoadingStyles(false);\n      }\n    };\n\n    fetchStyles();\n  }, []);\n\n  const updateSettings = (key, value) => {\n    setAttributes({\n      data: {\n        ...data,\n        settings: {\n          ...layoutSettings,\n          [key]: value,\n        },\n      },\n    });\n  };\n\n  const updateButton = (index, key, value) => {\n    const newButtons = [...buttons];\n    \n    // S'assurer que la structure link existe si on la modifie\n    if (key === \"link\" && !newButtons[index].link) {\n      newButtons[index].link = {\n        url: \"\",\n        title: \"\",\n        target: \"\",\n        type: \"url\",\n        postId: 0,\n        termId: 0,\n        taxonomy: \"\",\n        postType: \"\",\n      };\n    }\n    \n    newButtons[index][key] = value;\n    setAttributes({\n      data: {\n        ...data,\n        buttons: newButtons,\n      },\n    });\n  };\n\n  const addButton = () => {\n    const defaultButtonType = buttonStyles.length ? buttonStyles[0].value : \"btn-primary\";\n    const defaultIconPosition = getDefaultIconPosition(defaultButtonType);\n    const defaultIcon = getDefaultIcon(defaultButtonType);\n    \n    setAttributes({\n      data: {\n        ...data,\n        buttons: [\n          ...buttons,\n          {\n            id: generateUniqueId(), // Ajout d'un ID unique\n            title: \"Texte du bouton\",\n            type: defaultButtonType,\n            icon: defaultIcon, // Sera vide si pas d'icon-default définie\n            icon_position: defaultIconPosition,\n            link: {\n              url: \"\",\n              title: \"\",\n              target: \"\",\n              type: \"url\",\n              postId: 0,\n              termId: 0,\n              taxonomy: \"\",\n              postType: \"\",\n            },\n            class: \"\",\n            download: false,\n            data: {},\n          },\n        ],\n      },\n    });\n  };\n\n  const removeButton = (i) => {\n    const newButtons = [...buttons];\n    newButtons.splice(i, 1);\n    setAttributes({\n      data: {\n        ...data,\n        buttons: newButtons,\n      },\n    });\n  };\n\n  const decodeEntities = (html) => {\n    const textarea = document.createElement(\"textarea\");\n    textarea.innerHTML = html;\n    return textarea.value;\n  };\n\n  // Fonction utilitaire pour récupérer les variables d'un style de bouton\n  const getButtonStyleVariables = (buttonType) => {\n    const styleData = buttonStylesData.find(style => style.name === buttonType);\n    return styleData?.variables || {};\n  };\n\n  // Fonction utilitaire pour vérifier si une fonctionnalité est désactivée\n  const isFeatureDisabled = (buttonType, featureName) => {\n    const variables = getButtonStyleVariables(buttonType);\n    return variables[featureName] === \"false\";\n  };\n\n  // Fonction utilitaire pour vérifier si les icônes sont autorisées\n  const areIconsEnabled = (buttonType) => {\n    const variables = getButtonStyleVariables(buttonType);\n    // Si la variable n'existe pas, on garde le comportement par défaut (true)\n    return variables[\"icon\"] !== \"false\";\n  };\n\n  // Fonction utilitaire pour vérifier si le déplacement d'icône est autorisé\n  const isIconMoveEnabled = (buttonType) => {\n    const variables = getButtonStyleVariables(buttonType);\n    // Si la variable n'existe pas, on garde le comportement par défaut (true)\n    return variables[\"icon-move\"] !== \"false\";\n  };\n\n  // Fonction utilitaire pour récupérer la position d'icône par défaut\n  const getDefaultIconPosition = (buttonType) => {\n    const variables = getButtonStyleVariables(buttonType);\n    // Si la variable existe, on l'utilise, sinon on garde \"after\" par défaut\n    return variables[\"icon-position\"] || \"after\";\n  };\n\n  // Fonction utilitaire pour récupérer l'icône par défaut\n  const getDefaultIcon = (buttonType) => {\n    const variables = getButtonStyleVariables(buttonType);\n    return variables[\"icon-default\"] || \"\";\n  };\n\n  // Fonction utilitaire pour vérifier si une icône doit être affichée\n  const shouldShowIcon = (btn) => {\n    const variables = getButtonStyleVariables(btn.type);\n    // Si les icônes sont désactivées mais qu'il y a une icône par défaut, on l'affiche\n    if (variables[\"icon\"] === \"false\" && variables[\"icon-default\"]) {\n      return true;\n    }\n    // Sinon, on affiche l'icône si les icônes sont autorisées et qu'il y a une icône\n    return areIconsEnabled(btn.type) && btn.icon;\n  };\n\n  // Fonction utilitaire pour récupérer l'icône à afficher\n  const getDisplayIcon = (btn) => {\n    const variables = getButtonStyleVariables(btn.type);\n    // Si les icônes sont désactivées mais qu'il y a une icône par défaut, on utilise celle-ci\n    if (variables[\"icon\"] === \"false\" && variables[\"icon-default\"]) {\n      return variables[\"icon-default\"];\n    }\n    // Sinon, on utilise l'icône du bouton, ou l'icône par défaut si elle existe\n    return btn.icon || (variables[\"icon-default\"] ? variables[\"icon-default\"] : \"\");\n  };\n\n  const PostSelector = ({ value, onChangeId, onChangeType }) => {\n    const [query, setQuery] = useState(\"\");\n    \n    const excludedTypes = [\n      \"post\",\n      \"attachment\",\n      \"wp_template_part\",\n      \"wp_template\",\n      \"nav_menu_item\",\n      \"wp_navigation\",\n    ];\n\n    const allTypes = useSelect(\n      (select) => select(\"core\").getPostTypes({ per_page: -1 }),\n      [],\n    );\n\n    const allPosts = useSelect(\n      (select) => {\n        const postsByType = {};\n        if (!allTypes) return {};\n        allTypes.forEach((type) => {\n          if (excludedTypes.includes(type.slug)) return;\n          postsByType[type.slug] = select(\"core\").getEntityRecords(\n            \"postType\",\n            type.slug,\n            { per_page: -1 },\n          );\n        });\n        return postsByType;\n      },\n      [allTypes],\n    );\n\n    const options = useMemo(() => {\n      if (!allPosts || !allTypes) return [];\n\n      let allOptions = [];\n      allTypes.forEach((type) => {\n        if (excludedTypes.includes(type.slug)) return;\n\n        const posts = allPosts[type.slug];\n        if (!posts || !Array.isArray(posts)) return;\n\n        const filteredPosts = posts.filter((p) =>\n          p && p.title && p.title.rendered && \n          p.title.rendered.toLowerCase().includes(query.toLowerCase()),\n        );\n\n        if (filteredPosts.length > 0) {\n          allOptions.push({\n            value: `__group_${type.slug}`,\n            label: `--- ${type.labels.singular_name} ---`,\n            disabled: true,\n          });\n\n          filteredPosts.forEach((p) => {\n            allOptions.push({\n              value: `${type.slug}|${p.id}`,\n              label: decodeEntities(p.title?.rendered || p.title || `Post #${p.id}`),\n            });\n          });\n        }\n      });\n\n      return allOptions;\n    }, [allPosts, allTypes, query]);\n\n    return (\n      <ComboboxControl\n        label=\"Sélectionner un contenu\"\n        value={value ? options.find(opt => opt.value.endsWith(`|${value}`))?.value || \"\" : \"\"}\n        onChange={(val) => {\n          if (!val || !val.includes('|')) return;\n          \n          const [type, id] = val.split(\"|\");\n          onChangeType(type);\n          onChangeId(parseInt(id));\n        }}\n        onFilterValueChange={setQuery}\n        options={options}\n      />\n    );\n  };\n\n  const ArchiveSelector = ({ postType, onChangeType }) => {\n    const allTypes = useSelect(\n      (select) => select(\"core\").getPostTypes({ per_page: -1 }),\n      [],\n    );\n\n    const options = useMemo(() => {\n      if (!allTypes) return [];\n      return allTypes\n        .filter((t) => t.has_archive)\n        .map((t) => ({\n          value: t.slug,\n          label: decodeEntities(t.labels.name),\n        }));\n    }, [allTypes]);\n\n    return (\n      <SelectControl\n        label=\"Type de contenu (archive)\"\n        value={postType}\n        options={[{ label: \"Sélectionner...\", value: \"\" }, ...options]}\n        onChange={(val) => onChangeType(val)}\n      />\n    );\n  };\n\n  const TermSelector = ({ value, taxonomy, onChangeId, onChangeTaxo }) => {\n    const [query, setQuery] = useState(\"\");\n    const excludedTaxonomies = [\"category\"];\n    \n    const allTaxonomies = useSelect(\n      (select) => select(\"core\").getTaxonomies({ per_page: -1 }),\n      [],\n    );\n\n    const allTerms = useSelect(\n      (select) => {\n        const termsByTaxo = {};\n        if (!allTaxonomies) return {};\n        allTaxonomies.forEach((tax) => {\n          if (excludedTaxonomies.includes(tax.slug)) return;\n          termsByTaxo[tax.slug] = select(\"core\").getEntityRecords(\n            \"taxonomy\",\n            tax.slug,\n            { per_page: -1 },\n          );\n        });\n        return termsByTaxo;\n      },\n      [allTaxonomies],\n    );\n\n    const options = useMemo(() => {\n      if (!allTerms || !allTaxonomies) return [];\n\n      let allOptions = [];\n      allTaxonomies.forEach((taxo) => {\n        if (excludedTaxonomies.includes(taxo.slug)) return;\n\n        const terms = allTerms[taxo.slug];\n        if (!terms || !Array.isArray(terms)) return;\n\n        const filteredTerms = terms.filter((t) =>\n          t && t.name && \n          t.name.toLowerCase().includes(query.toLowerCase()),\n        );\n\n        if (filteredTerms.length > 0) {\n          allOptions.push({\n            value: `__group_${taxo.slug}`,\n            label: `--- ${taxo.labels.singular_name} ---`,\n            disabled: true,\n          });\n\n          filteredTerms.forEach((t) => {\n            allOptions.push({\n              value: `${taxo.slug}|${t.id}`,\n              label: decodeEntities(t.name || `Terme #${t.id}`),\n            });\n          });\n        }\n      });\n\n      return allOptions;\n    }, [allTerms, allTaxonomies, query]);\n\n    return (\n      <ComboboxControl\n        label=\"Sélectionner un terme\"\n        value={value ? options.find(opt => opt.value.endsWith(`|${value}`))?.value || \"\" : \"\"}\n        onChange={(val) => {\n          if (!val || !val.includes('|')) return;\n          \n          const [taxo, id] = val.split(\"|\");\n          onChangeTaxo(taxo);\n          onChangeId(parseInt(id));\n        }}\n        onFilterValueChange={setQuery}\n        options={options}\n      />\n    );\n  };\n\n  // Composant de sélection d'icônes Lucide\n  const LucideIconPicker = ({ value, onChange }) => {\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [lucideIcons, setLucideIcons] = useState([]);\n    const [loadingIcons, setLoadingIcons] = useState(false);\n\n    // URL du sprite Lucide depuis la config SiteForge\n    const spriteUrl = window.siteforgeConfig?.spriteUrl || '';\n\n    // Récupère les icônes depuis l'API REST SiteForge\n    useEffect(() => {\n      const fetchIcons = async () => {\n        setLoadingIcons(true);\n        console.log('[buttons-v2] Fetching icons from API...');\n        try {\n          const data = await apiFetch({ path: '/siteforge/v1/icons' });\n          console.log('[buttons-v2] Icons received:', data);\n          setLucideIcons(data.icons || []);\n        } catch (error) {\n          console.error('[buttons-v2] Erreur lors de la récupération des icônes:', error);\n          setLucideIcons([]);\n        } finally {\n          setLoadingIcons(false);\n        }\n      };\n\n      if (isModalOpen && lucideIcons.length === 0) {\n        fetchIcons();\n      }\n    }, [isModalOpen, lucideIcons.length]);\n\n    const filteredIcons = lucideIcons.filter(icon =>\n      icon.toLowerCase().includes(searchQuery.toLowerCase())\n    );\n\n    const handleIconSelect = (iconSlug) => {\n      onChange(iconSlug);\n      setIsModalOpen(false);\n    };\n\n    const currentIconPreview = value && spriteUrl ? (\n      <svg\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 24 24\"\n        style={{\n          marginRight: \"8px\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeWidth: 2,\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\"\n        }}\n      >\n        <use href={`${spriteUrl}#${value}`} />\n      </svg>\n    ) : null;\n\n    return (\n      <>\n        <BaseControl label=\"Icône Lucide\">\n          <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\n            {currentIconPreview}\n            <Button\n              variant=\"secondary\"\n              onClick={() => setIsModalOpen(true)}\n              style={{ flex: 1 }}\n            >\n              {value ? `Changer l'icône (${value})` : \"Ajouter une icône\"}\n            </Button>\n            {value && (\n              <Button\n                isDestructive\n                variant=\"secondary\"\n                onClick={() => onChange(\"\")}\n                icon={trash}\n                label=\"Supprimer l'icône\"\n              />\n            )}\n          </div>\n        </BaseControl>\n\n        {isModalOpen && (\n          <Modal\n            title=\"Sélectionner une icône Lucide\"\n            onRequestClose={() => setIsModalOpen(false)}\n            style={{ maxWidth: \"800px\", minWidth: \"400px\", zIndex: 1000001 }}\n          >\n            <div>\n              <SearchControl\n                value={searchQuery}\n                onChange={setSearchQuery}\n                placeholder=\"Rechercher une icône...\"\n                style={{ marginBottom: \"16px\" }}\n              />\n\n              {searchQuery && (\n                <div style={{ marginBottom: \"8px\", fontSize: \"12px\", color: \"#666\" }}>\n                  {sprintf(\n                    _n(\n                      '%1$s résultat pour \"%2$s\"',\n                      '%1$s résultats pour \"%2$s\"',\n                      filteredIcons.length,\n                      'siteforge'\n                    ),\n                    new Intl.NumberFormat(\"fr-FR\").format(filteredIcons.length),\n                    searchQuery\n                  )}\n                </div>\n              )}\n\n              {loadingIcons ? (\n                <div style={{ textAlign: \"center\", padding: \"40px\" }}>\n                  <Spinner />\n                  <p style={{ marginTop: \"12px\", color: \"#666\" }}>\n                    Chargement des icônes...\n                  </p>\n                </div>\n              ) : (\n                <>\n                  <div style={{\n                    display: \"grid\",\n                    gridTemplateColumns: \"repeat(auto-fill, minmax(50px, 1fr))\",\n                    gap: \"4px\",\n                    maxHeight: \"400px\",\n                    overflowY: \"auto\",\n                    border: \"1px solid #ddd\",\n                    borderRadius: \"4px\",\n                    padding: \"12px\",\n                    width: \"400px\",\n                  }}>\n                    {filteredIcons.slice(0, 100).map((iconSlug) => (\n                      <Button\n                        key={iconSlug}\n                        variant={value === iconSlug ? \"primary\" : \"secondary\"}\n                        onClick={() => handleIconSelect(iconSlug)}\n                        style={{\n                          display: \"flex\",\n                          alignItems: \"center\",\n                          justifyContent: \"center\",\n                          padding: \"8px\",\n                          minHeight: \"40px\",\n                          minWidth: \"40px\",\n                        }}\n                        title={iconSlug}\n                      >\n                        <svg\n                          width=\"20\"\n                          height=\"20\"\n                          viewBox=\"0 0 24 24\"\n                          style={{\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            strokeWidth: 2,\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\"\n                          }}\n                        >\n                          <use href={`${spriteUrl}#${iconSlug}`} />\n                        </svg>\n                      </Button>\n                    ))}\n                  </div>\n\n                  {filteredIcons.length > 100 && (\n                    <p style={{ textAlign: \"center\", color: \"#888\", fontSize: \"12px\", marginTop: \"12px\" }}>\n                      ... et {new Intl.NumberFormat(\"fr-FR\").format(filteredIcons.length - 100)} autres résultats. Affinez votre recherche\n                    </p>\n                  )}\n                </>\n              )}\n\n              {!loadingIcons && filteredIcons.length === 0 && (\n                <p style={{ textAlign: \"center\", color: \"#666\", marginTop: \"20px\" }}>\n                  Aucune icône trouvée pour \"{searchQuery}\"\n                </p>\n              )}\n            </div>\n          </Modal>\n        )}\n      </>\n    );\n  };\n\n  const nbBtn = buttons.length;\n\n  return (\n    <>\n      <InspectorControls>\n        <PanelBody title=\"Mise en page des boutons\" initialOpen={true}>\n          <BaseControl label=\"Alignement\">\n            <ButtonGroup>\n              <Button\n                icon={justifyLeft}\n                label=\"Aligné à gauche\"\n                onClick={() => updateSettings(\"justifyValue\", \"justify-start\")}\n                isPressed={layoutSettings.justifyValue === \"justify-start\"}\n                variant={\n                  layoutSettings.justifyValue === \"justify-start\"\n                    ? \"primary\"\n                    : \"secondary\"\n                }\n              />\n              <Button\n                icon={justifyCenter}\n                label=\"Centré\"\n                onClick={() => updateSettings(\"justifyValue\", \"justify-center\")}\n                isPressed={layoutSettings.justifyValue === \"justify-center\"}\n                variant={\n                  layoutSettings.justifyValue === \"justify-center\"\n                    ? \"primary\"\n                    : \"secondary\"\n                }\n              />\n              <Button\n                icon={justifyRight}\n                label=\"Aligné à droite\"\n                onClick={() => updateSettings(\"justifyValue\", \"justify-end\")}\n                isPressed={layoutSettings.justifyValue === \"justify-end\"}\n                variant={\n                  layoutSettings.justifyValue === \"justify-end\"\n                    ? \"primary\"\n                    : \"secondary\"\n                }\n              />\n              {nbBtn > 1 && (\n                <Button\n                  icon={justifySpaceBetween}\n                  label=\"Espacé entre les boutons\"\n                  onClick={() =>\n                    updateSettings(\"justifyValue\", \"justify-between\")\n                  }\n                  isPressed={layoutSettings.justifyValue === \"justify-between\"}\n                  variant={\n                    layoutSettings.justifyValue === \"justify-between\"\n                      ? \"primary\"\n                      : \"secondary\"\n                  }\n                />\n              )}\n            </ButtonGroup>\n          </BaseControl>\n          {nbBtn > 1 && (\n            <>\n              <TextControl\n                label=\"Gap entre les boutons\"\n                onChange={(val) => updateSettings(\"gap\", val)}\n                value={layoutSettings.gap}\n              />\n              <ToggleControl\n                label=\"Retour à la ligne\"\n                checked={layoutSettings.flexWrap}\n                onChange={(val) => updateSettings(\"flexWrap\", val)}\n              />\n            </>\n          )}\n        </PanelBody>\n      </InspectorControls>\n\n      <div {...useBlockProps()}>\n        <div\n          className={`pib-buttons flex ${\n            layoutSettings.flexWrap ? \"flex-wrap\" : \"\"\n          } ${layoutSettings.justifyValue || \"\"}`}\n          style={{ gap: layoutSettings.gap }}\n        >\n          {ensureButtonIds(buttons).map((btn, index) => (\n            <div key={btn.id || `fallback-${index}`} className=\"pib-button-item\">\n              <BlockControls group=\"block\">\n                <ToolbarGroup>\n                  <Dropdown\n                    renderToggle={({ isOpen, onToggle }) => (\n                      <ToolbarButton\n                        icon={settings}\n                        label={`Bouton \"${btn.title}\"`}\n                        onClick={onToggle}\n                        isPressed={isOpen}\n                      />\n                    )}\n                    renderContent={() => (\n                      <div style={{ padding: \"0\", minWidth: \"260px\" }}>\n                        <PanelBody title=\"Lien du bouton\" initialOpen={true}>\n                          <SelectControl\n                            label=\"Type de lien\"\n                            value={btn.link?.type || \"url\"}\n                            options={[\n                              { label: \"URL personnalisée\", value: \"url\" },\n                              { label: \"Contenu (pages / CPT)\", value: \"post\" },\n                              { label: \"Archive (CPT)\", value: \"archive\" },\n                              { label: \"Terme (taxonomies)\", value: \"term\" },\n                              { label: \"Mail\", value: \"mail\" },\n                              { label: \"Téléphone\", value: \"tel\" },\n                            ]}\n                            onChange={(value) => {\n                              const currentLink = btn.link || {};\n                              updateButton(index, \"link\", { ...currentLink, type: value });\n                              if (value === \"mail\")\n                                updateButton(index, \"link\", { ...currentLink, url: \"mailto:\", type: value });\n                              if (value === \"tel\")\n                                updateButton(index, \"link\", { ...currentLink, url: \"tel:\", type: value });\n                            }}\n                          />\n\n                          {/* champs du lien */}\n                          {(btn.link?.type || \"url\") === \"url\" && (\n                            <input\n                              type=\"url\"\n                              value={btn.link?.url || \"\"}\n                              placeholder=\"https://...\"\n                              style={{ width: \"100%\", marginTop: \"10px\" }}\n                              onChange={(e) => {\n                                const currentLink = btn.link || {};\n                                updateButton(index, \"link\", { ...currentLink, url: e.target.value });\n                              }}\n                            />\n                          )}\n                          {(btn.link?.type || \"url\") === \"mail\" && (\n                            <input\n                              type=\"email\"\n                              value={(btn.link?.url || \"\").replace(\"mailto:\", \"\")}\n                              placeholder=\"email@example.com\"\n                              style={{ width: \"100%\", marginTop: \"10px\" }}\n                              onChange={(e) => {\n                                const currentLink = btn.link || {};\n                                updateButton(\n                                  index,\n                                  \"link\",\n                                  { ...currentLink, url: `mailto:${e.target.value}` }\n                                );\n                              }}\n                            />\n                          )}\n                          {(btn.link?.type || \"url\") === \"tel\" && (\n                            <input\n                              type=\"tel\"\n                              value={(btn.link?.url || \"\").replace(\"tel:\", \"\")}\n                              placeholder=\"+33612345678\"\n                              style={{ width: \"100%\", marginTop: \"10px\" }}\n                              onChange={(e) => {\n                                const currentLink = btn.link || {};\n                                updateButton(\n                                  index,\n                                  \"link\",\n                                  { ...currentLink, url: `tel:${e.target.value}` }\n                                );\n                              }}\n                            />\n                          )}\n                          {(btn.link?.type || \"url\") === \"post\" && (\n                            <PostSelector\n                              value={btn.link?.postId || 0}\n                              onChangeId={(id) => {\n                                const currentLink = btn.link || {};\n                                const newLink = { ...currentLink, postId: id };\n                                updateButton(index, \"link\", newLink);\n                              }}\n                              onChangeType={(type) => {\n                                const currentLink = btn.link || {};\n                                // Pour les posts individuels, on sauvegarde le type du post automatiquement\n                                const newLink = { ...currentLink, postType: type };\n                                updateButton(index, \"link\", newLink);\n                              }}\n                            />\n                          )}\n                          {(btn.link?.type || \"url\") === \"archive\" && (\n                            <ArchiveSelector\n                              postType={btn.link?.postType || \"\"}\n                              onChangeType={(type) => {\n                                const currentLink = btn.link || {};\n                                updateButton(index, \"link\", { ...currentLink, postType: type });\n                              }}\n                            />\n                          )}\n                          {(btn.link?.type || \"url\") === \"term\" && (\n                            <TermSelector\n                              value={btn.link?.termId || 0}\n                              taxonomy={btn.link?.taxonomy || \"\"}\n                              onChangeId={(id) => {\n                                const currentLink = btn.link || {};\n                                const newLink = { ...currentLink, termId: id };\n                                updateButton(index, \"link\", newLink);\n                              }}\n                              onChangeTaxo={(taxo) => {\n                                const currentLink = btn.link || {};\n                                const newLink = { ...currentLink, taxonomy: taxo };\n                                updateButton(index, \"link\", newLink);\n                              }}\n                            />\n                          )}\n                          {/* Affichage conditionnel du contrôle target=\"_blank\" */}\n                          {![\"mail\", \"tel\"].includes(btn.link?.type || \"url\") && (\n                            <div style={{ marginTop: \"10px\" }}>\n                              <ToggleControl\n                                label=\"Ouvrir dans un nouvel onglet\"\n                                checked={(btn.link?.target || \"\") === \"_blank\"}\n                                onChange={(val) => {\n                                  const currentLink = btn.link || {};\n                                  updateButton(index, \"link\", { ...currentLink, target: val ? \"_blank\" : \"\" });\n                                }}\n                              />\n                            </div>\n                          )}\n                        </PanelBody>\n\n                        <PanelBody\n                          title=\"Apparence du bouton\"\n                          initialOpen={true}\n                        >\n                          {loadingStyles ? (\n                            <Spinner />\n                          ) : (\n                            <SelectControl\n                              label=\"Style du bouton\"\n                              value={btn.type}\n                              options={buttonStyles}\n                              onChange={(value) => {\n                                updateButton(index, \"type\", value);\n                                // Mettre à jour la position d'icône selon le nouveau style\n                                const defaultPos = getDefaultIconPosition(value);\n                                updateButton(index, \"icon_position\", defaultPos);\n                                // Mettre à jour l'icône par défaut si nécessaire\n                                const defaultIcon = getDefaultIcon(value);\n                                const variables = getButtonStyleVariables(value);\n                                // Si les icônes sont désactivées mais qu'il y a une icône par défaut, on l'applique\n                                if (variables[\"icon\"] === \"false\" && variables[\"icon-default\"]) {\n                                  updateButton(index, \"icon\", defaultIcon);\n                                } else if (!btn.icon && variables[\"icon-default\"]) {\n                                  // Si pas d'icône actuelle et qu'il y a une icône par défaut définie, l'appliquer\n                                  updateButton(index, \"icon\", defaultIcon);\n                                }\n                              }}\n                            />\n                          )}\n\n                          {/* Affichage conditionnel du sélecteur d'icône Lucide */}\n                          {areIconsEnabled(btn.type) && (\n                            <div style={{ marginTop: \"16px\" }}>\n                              <LucideIconPicker\n                                value={btn.icon || \"\"}\n                                onChange={(iconSlug) =>\n                                  updateButton(index, \"icon\", iconSlug)\n                                }\n                              />\n                            </div>\n                          )}\n\n                          {/* Affichage conditionnel de la position d'icône */}\n                          {btn.icon && areIconsEnabled(btn.type) && isIconMoveEnabled(btn.type) && (\n                            <div style={{ marginTop: \"12px\" }}>\n                              <BaseControl label=\"Position de l'icône\">\n                                <ToggleGroupControl\n                                  value={btn.icon_position || getDefaultIconPosition(btn.type)}\n                                  onChange={(value) =>\n                                    updateButton(index, \"icon_position\", value)\n                                  }\n                                  isBlock\n                                >\n                                  <ToggleGroupControlOption\n                                    value=\"before\"\n                                    label=\"Avant le texte\"\n                                  />\n                                  <ToggleGroupControlOption\n                                    value=\"after\"\n                                    label=\"Après le texte\"\n                                  />\n                                </ToggleGroupControl>\n                              </BaseControl>\n                            </div>\n                          )}\n\n                          {/* Messages informatifs si les fonctionnalités sont désactivées */}\n                          {(!areIconsEnabled(btn.type) || !isIconMoveEnabled(btn.type)) && (\n                            <div style={{ \n                              marginTop: \"12px\", \n                              padding: \"8px\", \n                              backgroundColor: \"#f0f0f0\", \n                              borderRadius: \"4px\",\n                              fontSize: \"12px\",\n                              color: \"#666\"\n                            }}>\n                              {!areIconsEnabled(btn.type) && (\n                                <div>Les icônes sont désactivées pour ce style de bouton</div>\n                              )}\n                              {areIconsEnabled(btn.type) && !isIconMoveEnabled(btn.type) && (\n                                <div>La position de l'icône est fixe pour ce style de bouton</div>\n                              )}\n                            </div>\n                          )}\n                        </PanelBody>\n                      </div>\n                    )}\n                  />\n                </ToolbarGroup>\n              </BlockControls>\n\n              <div className=\"pib-button-wrapper\">\n                <span className={`pib-button ${btn.type}`} style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                  {shouldShowIcon(btn) && ((btn.icon_position || getDefaultIconPosition(btn.type)) === 'before') && (\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" style={{ fill: 'none', stroke: 'currentColor', strokeWidth: 2, strokeLinecap: 'round', strokeLinejoin: 'round' }}>\n                      <use href={`${window.siteforgeConfig?.spriteUrl || ''}#${getDisplayIcon(btn)}`} />\n                    </svg>\n                  )}\n                  <RichText\n                    tagName=\"span\"\n                    value={btn.title}\n                    placeholder=\"Texte du bouton\"\n                    onChange={(value) => updateButton(index, \"title\", value)}\n                    allowedFormats={[]}\n                    withoutInteractiveFormatting\n                  />\n                  {shouldShowIcon(btn) && ((btn.icon_position || getDefaultIconPosition(btn.type)) === 'after') && (\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" style={{ fill: 'none', stroke: 'currentColor', strokeWidth: 2, strokeLinecap: 'round', strokeLinejoin: 'round' }}>\n                      <use href={`${window.siteforgeConfig?.spriteUrl || ''}#${getDisplayIcon(btn)}`} />\n                    </svg>\n                  )}\n                </span>\n\n                <Button\n                  isDestructive\n                  onClick={() => removeButton(index)}\n                  className=\"pib-remove-btn\"\n                  label=\"Supprimer\"\n                  showTooltip\n                  icon={<Icon icon={trash} />}\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <Button\n          variant=\"primary\"\n          onClick={addButton}\n          style={{ marginTop: \"12px\" }}\n        >\n          + Ajouter un bouton\n        </Button>\n      </div>\n    </>\n  );\n}\n"],"names":["registerBlockType","metadata","icon","src","React","createElement","xmlns","width","height","fill","viewBox","d","edit","attributes","setAttributes","clientId","console","log","window","siteforgeConfig","data","settings","justifyValue","flexWrap","gap","buttons","ensureButtonIds","buttonsArray","map","btn","index","id","Date","now","layoutSettings","buttonStyles","setButtonStyles","useState","buttonStylesData","setButtonStylesData","loadingStyles","setLoadingStyles","useEffect","some","length","buttonsWithIds","async","styles","apiFetch","path","styleOptions","style","label","_a","variables","title","name","replace","value","error","fetchStyles","updateSettings","key","updateButton","newButtons","link","url","target","type","postId","termId","taxonomy","postType","decodeEntities","html","textarea","document","innerHTML","getButtonStyleVariables","buttonType","styleData","find","areIconsEnabled","isIconMoveEnabled","getDefaultIconPosition","getDefaultIcon","shouldShowIcon","getDisplayIcon","PostSelector","onChangeId","onChangeType","query","setQuery","excludedTypes","allTypes","useSelect","select","getPostTypes","per_page","allPosts","postsByType","forEach","includes","slug","getEntityRecords","options","useMemo","allOptions","posts","Array","isArray","filteredPosts","filter","p","rendered","toLowerCase","push","labels","singular_name","disabled","ComboboxControl","opt","endsWith","onChange","val","split","parseInt","onFilterValueChange","ArchiveSelector","t","has_archive","SelectControl","TermSelector","onChangeTaxo","excludedTaxonomies","allTaxonomies","getTaxonomies","allTerms","termsByTaxo","tax","taxo","terms","filteredTerms","LucideIconPicker","isModalOpen","setIsModalOpen","searchQuery","setSearchQuery","lucideIcons","setLucideIcons","loadingIcons","setLoadingIcons","spriteUrl","icons","fetchIcons","filteredIcons","currentIconPreview","marginRight","stroke","strokeWidth","strokeLinecap","strokeLinejoin","href","BaseControl","display","alignItems","Button","variant","onClick","flex","isDestructive","trash","Modal","onRequestClose","maxWidth","minWidth","zIndex","SearchControl","placeholder","marginBottom","fontSize","color","sprintf","_n","Intl","NumberFormat","format","textAlign","padding","Spinner","marginTop","Fragment","gridTemplateColumns","maxHeight","overflowY","border","borderRadius","slice","iconSlug","handleIconSelect","justifyContent","minHeight","nbBtn","InspectorControls","PanelBody","initialOpen","ButtonGroup","justifyLeft","isPressed","justifyCenter","justifyRight","justifySpaceBetween","TextControl","ToggleControl","checked","useBlockProps","className","BlockControls","group","ToolbarGroup","Dropdown","renderToggle","isOpen","onToggle","ToolbarButton","renderContent","currentLink","_b","_c","e","_d","_e","_f","_g","_h","_i","newLink","_j","_k","_l","_m","_o","_p","defaultPos","defaultIcon","ToggleGroupControl","icon_position","isBlock","ToggleGroupControlOption","backgroundColor","RichText","tagName","allowedFormats","withoutInteractiveFormatting","i","splice","removeButton","showTooltip","Icon","defaultButtonType","defaultIconPosition","Math","random","toString","substr","class","download"],"mappings":"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"}